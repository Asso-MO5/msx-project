                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.2.0 #13081 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module system
                                      6 	.optsdcc -mz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _g_SLTSL
                                     12 	.globl _g_GRPACY
                                     13 	.globl _g_GRPACX
                                     14 	.globl _g_LOGOPR
                                     15 	.globl _g_CMASK
                                     16 	.globl _g_CLOC
                                     17 	.globl _g_FNKSTR
                                     18 	.globl _g_ATRBYT
                                     19 	.globl _g_BDRCLR
                                     20 	.globl _g_BAKCLR
                                     21 	.globl _g_FORCLR
                                     22 	.globl _g_CSRX
                                     23 	.globl _g_CSRY
                                     24 	.globl _g_CLIKSW
                                     25 	.globl _g_MLTPAT
                                     26 	.globl _g_MLTATR
                                     27 	.globl _g_MLTCGP
                                     28 	.globl _g_MLTCOL
                                     29 	.globl _g_MLTNAM
                                     30 	.globl _g_GRPPAT
                                     31 	.globl _g_GRPATR
                                     32 	.globl _g_GRPCGP
                                     33 	.globl _g_GRPCOL
                                     34 	.globl _g_GRPNAM
                                     35 	.globl _g_T32PAT
                                     36 	.globl _g_T32ATR
                                     37 	.globl _g_T32CGP
                                     38 	.globl _g_T32COL
                                     39 	.globl _g_T32NAM
                                     40 	.globl _g_TXTPAT
                                     41 	.globl _g_TXTATR
                                     42 	.globl _g_TXTCGP
                                     43 	.globl _g_TXTCOL
                                     44 	.globl _g_TXTNAM
                                     45 	.globl _g_CLMLST
                                     46 	.globl _g_CRTCNT
                                     47 	.globl _g_LINLEN
                                     48 	.globl _g_LINL32
                                     49 	.globl _g_LINL40
                                     50 	.globl _g_SVFFFD
                                     51 	.globl _g_RG27SAV
                                     52 	.globl _g_RG26SAV
                                     53 	.globl _g_RG25SAV
                                     54 	.globl _g_SVFFF8
                                     55 	.globl _g_MINROM
                                     56 	.globl _g_RG23SAV
                                     57 	.globl _g_RG22SAV
                                     58 	.globl _g_RG21SAV
                                     59 	.globl _g_RG20SAV
                                     60 	.globl _g_RG19SAV
                                     61 	.globl _g_RG18SAV
                                     62 	.globl _g_RG17SAV
                                     63 	.globl _g_RG16SAV
                                     64 	.globl _g_RG15SAV
                                     65 	.globl _g_RG14SAV
                                     66 	.globl _g_RG13SAV
                                     67 	.globl _g_RG12SAV
                                     68 	.globl _g_RG11SAV
                                     69 	.globl _g_RG10SAV
                                     70 	.globl _g_RG09SAV
                                     71 	.globl _g_RG08SAV
                                     72 	.globl _g_PROCNM
                                     73 	.globl _g_SLTWRK
                                     74 	.globl _g_SLTATR
                                     75 	.globl _g_SLTTBL
                                     76 	.globl _g_EXPTBL
                                     77 	.globl _g_MNROM
                                     78 	.globl _g_DRWANG
                                     79 	.globl _g_DRWSCL
                                     80 	.globl _g_DRWFLG
                                     81 	.globl _g_GYPOS
                                     82 	.globl _g_GXPOS
                                     83 	.globl _g_BRDATR
                                     84 	.globl _g_CASPRV
                                     85 	.globl _g_OLDSCR
                                     86 	.globl _g_SCRMOD
                                     87 	.globl _g_FLBMEM
                                     88 	.globl _g_KANAMD
                                     89 	.globl _g_KANAST
                                     90 	.globl _g_CAPST
                                     91 	.globl _g_CSTYLE
                                     92 	.globl _g_CSRSW
                                     93 	.globl _g_INSFLG
                                     94 	.globl _g_ESCCNT
                                     95 	.globl _g_GRPHED
                                     96 	.globl _g_WINWID
                                     97 	.globl _g_LOWLIM
                                     98 	.globl _g_INTCNT
                                     99 	.globl _g_INTVAL
                                    100 	.globl _g_JIFFY
                                    101 	.globl _g_PADX
                                    102 	.globl _g_PADY
                                    103 	.globl _g_INTFLG
                                    104 	.globl _g_RTYCNT
                                    105 	.globl _g_TRPTBL
                                    106 	.globl _g_HIMEM
                                    107 	.globl _g_BOTTOM
                                    108 	.globl _g_PATWRK
                                    109 	.globl _g_LINWRK
                                    110 	.globl _g_KEYBUF
                                    111 	.globl _g_NEWKEY
                                    112 	.globl _g_OLDKEY
                                    113 	.globl _g_CLIKFL
                                    114 	.globl _g_ONGSBF
                                    115 	.globl _g_FNKFLG
                                    116 	.globl _g_FNKSWI
                                    117 	.globl _g_CODSAV
                                    118 	.globl _g_FSTPOS
                                    119 	.globl _g_LINTTB
                                    120 	.globl _g_BASROM
                                    121 	.globl _g_ENSTOP
                                    122 	.globl _g_VCBC
                                    123 	.globl _g_VCBB
                                    124 	.globl _g_VCBA
                                    125 	.globl _g_PLYCNT
                                    126 	.globl _g_MUSICF
                                    127 	.globl _g_QUEUEN
                                    128 	.globl _g_MCLPTR
                                    129 	.globl _g_MCLLEN
                                    130 	.globl _g_SAVVOL
                                    131 	.globl _g_VOICEN
                                    132 	.globl _g_SAVSP
                                    133 	.globl _g_PRSCNT
                                    134 	.globl _g_LSTMOD
                                    135 	.globl _g_LSTCOM
                                    136 	.globl _g_COMMSK
                                    137 	.globl _g_ESTBLS
                                    138 	.globl _g_FLAGS
                                    139 	.globl _g_ERRORS
                                    140 	.globl _g_DATCNT
                                    141 	.globl _g_DEVNUM
                                    142 	.globl _g_OLDINT
                                    143 	.globl _g_OLDSTT
                                    144 	.globl _g_MEXBIh
                                    145 	.globl _g_RSIQLN
                                    146 	.globl _g_RSFCB
                                    147 	.globl _g_TOCNT
                                    148 	.globl _g_RSTMP
                                    149 	.globl _g_YSAVE
                                    150 	.globl _g_XSAVE
                                    151 	.globl _g_NORUSE
                                    152 	.globl _g_MODE
                                    153 	.globl _g_ROMA
                                    154 	.globl _g_CHRCNT
                                    155 	.globl _g_EXBRSA
                                    156 	.globl _g_AVCSAV
                                    157 	.globl _g_ACPAGE
                                    158 	.globl _g_DPPAGE
                                    159 	.globl _g_RS2IQ
                                    160 	.globl _g_VOICCQ
                                    161 	.globl _g_VOICBQ
                                    162 	.globl _g_VOICAQ
                                    163 	.globl _g_QUEBAK
                                    164 	.globl _g_QUETAB
                                    165 	.globl _g_ASPCT2
                                    166 	.globl _g_ASPCT1
                                    167 	.globl _g_HEADER
                                    168 	.globl _g_HIGH
                                    169 	.globl _g_LOW
                                    170 	.globl _g_CS240
                                    171 	.globl _g_CS120
                                    172 	.globl _g_GETPNT
                                    173 	.globl _g_PUTPNT
                                    174 	.globl _g_REPCNT
                                    175 	.globl _g_SCNCNT
                                    176 	.globl _g_FRCNEW
                                    177 	.globl _g_QUEUES
                                    178 	.globl _g_MINUPD
                                    179 	.globl _g_MAXUPD
                                    180 	.globl _g_TRGFLG
                                    181 	.globl _g_STATFL
                                    182 	.globl _g_RG7SAV
                                    183 	.globl _g_RG6SAV
                                    184 	.globl _g_RG5SAV
                                    185 	.globl _g_RG4SAV
                                    186 	.globl _g_RG3SAV
                                    187 	.globl _g_RG2SAV
                                    188 	.globl _g_RG1SAV
                                    189 	.globl _g_RG0SAV
                                    190 	.globl _g_CNSDFG
                                    191 	.globl _g_USRTAB
                                    192 	.globl _g_CLPRIM
                                    193 	.globl _g_WRPRIM
                                    194 	.globl _g_RDPRIM
                                    195 	.globl _Sys_GetPageSlot
                                    196 	.globl _Sys_SetPageSlot
                                    197 	.globl _Sys_SetPage0Slot
                                    198 	.globl _Sys_CheckSlot
                                    199 ;--------------------------------------------------------
                                    200 ; special function registers
                                    201 ;--------------------------------------------------------
                           0000A8   202 _g_PortPrimarySlot	=	0x00a8
                           0000A9   203 _g_PortReadKeyboard	=	0x00a9
                           0000AA   204 _g_PortAccessKeyboard	=	0x00aa
                           0000AB   205 _g_PortControl	=	0x00ab
                           000098   206 _g_VDP_DataPort	=	0x0098
                           000099   207 _g_VDP_RegPort	=	0x0099
                           000099   208 _g_VDP_AddrPort	=	0x0099
                           000099   209 _g_VDP_StatPort	=	0x0099
                           0000A0   210 _g_PSG_RegPort	=	0x00a0
                           0000A1   211 _g_PSG_DataPort	=	0x00a1
                           0000A2   212 _g_PSG_StatPort	=	0x00a2
                           000010   213 _g_PSG_Ext_RegPort	=	0x0010
                           000011   214 _g_PSG_Ext_DataPort	=	0x0011
                           000012   215 _g_PSG_Ext_StatPort	=	0x0012
                           00007C   216 _g_MSXMusic_IndexPort	=	0x007c
                           00007D   217 _g_MSXMusic_DataPort	=	0x007d
                           0000C0   218 _g_MSXAudio_IndexPort	=	0x00c0
                           0000C1   219 _g_MSXAudio_DataPort	=	0x00c1
                           0000C2   220 _g_MSXAudio_IndexPort2	=	0x00c2
                           0000C3   221 _g_MSXAudio_DataPort2	=	0x00c3
                           0000B4   222 _g_RTC_AddrPort	=	0x00b4
                           0000B5   223 _g_RTC_DataPort	=	0x00b5
                                    224 ;--------------------------------------------------------
                                    225 ; ram data
                                    226 ;--------------------------------------------------------
                                    227 	.area _DATA
                           00F3AE   228 _g_LINL40	=	0xf3ae
                           00F3AF   229 _g_LINL32	=	0xf3af
                           00F3B0   230 _g_LINLEN	=	0xf3b0
                           00F3B1   231 _g_CRTCNT	=	0xf3b1
                           00F3B2   232 _g_CLMLST	=	0xf3b2
                           00F3B3   233 _g_TXTNAM	=	0xf3b3
                           00F3B5   234 _g_TXTCOL	=	0xf3b5
                           00F3B7   235 _g_TXTCGP	=	0xf3b7
                           00F3B9   236 _g_TXTATR	=	0xf3b9
                           00F3BB   237 _g_TXTPAT	=	0xf3bb
                           00F3BD   238 _g_T32NAM	=	0xf3bd
                           00F3BF   239 _g_T32COL	=	0xf3bf
                           00F3C1   240 _g_T32CGP	=	0xf3c1
                           00F3C3   241 _g_T32ATR	=	0xf3c3
                           00F3C5   242 _g_T32PAT	=	0xf3c5
                           00F3C7   243 _g_GRPNAM	=	0xf3c7
                           00F3C9   244 _g_GRPCOL	=	0xf3c9
                           00F3CB   245 _g_GRPCGP	=	0xf3cb
                           00F3CD   246 _g_GRPATR	=	0xf3cd
                           00F3CF   247 _g_GRPPAT	=	0xf3cf
                           00F3D1   248 _g_MLTNAM	=	0xf3d1
                           00F3D3   249 _g_MLTCOL	=	0xf3d3
                           00F3D5   250 _g_MLTCGP	=	0xf3d5
                           00F3D7   251 _g_MLTATR	=	0xf3d7
                           00F3D9   252 _g_MLTPAT	=	0xf3d9
                           00F3DB   253 _g_CLIKSW	=	0xf3db
                           00F3DC   254 _g_CSRY	=	0xf3dc
                           00F3DD   255 _g_CSRX	=	0xf3dd
                           00F3E9   256 _g_FORCLR	=	0xf3e9
                           00F3EA   257 _g_BAKCLR	=	0xf3ea
                           00F3EB   258 _g_BDRCLR	=	0xf3eb
                           00F3F2   259 _g_ATRBYT	=	0xf3f2
                           00F87F   260 _g_FNKSTR	=	0xf87f
                           00F92A   261 _g_CLOC	=	0xf92a
                           00F92C   262 _g_CMASK	=	0xf92c
                           00FB02   263 _g_LOGOPR	=	0xfb02
                           00FCB7   264 _g_GRPACX	=	0xfcb7
                           00FCB9   265 _g_GRPACY	=	0xfcb9
                           00FFFF   266 _g_SLTSL	=	0xffff
                                    267 ;--------------------------------------------------------
                                    268 ; ram data
                                    269 ;--------------------------------------------------------
                                    270 	.area _INITIALIZED
                                    271 ;--------------------------------------------------------
                                    272 ; absolute external ram data
                                    273 ;--------------------------------------------------------
                                    274 	.area _DABS (ABS)
                                    275 ;--------------------------------------------------------
                                    276 ; global & static initialisations
                                    277 ;--------------------------------------------------------
                                    278 	.area _HOME
                                    279 	.area _GSINIT
                                    280 	.area _GSFINAL
                                    281 	.area _GSINIT
                                    282 ;--------------------------------------------------------
                                    283 ; Home
                                    284 ;--------------------------------------------------------
                                    285 	.area _HOME
                                    286 	.area _HOME
                                    287 ;--------------------------------------------------------
                                    288 ; code
                                    289 ;--------------------------------------------------------
                                    290 	.area _CODE
                                    291 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:12: u8 Sys_GetPageSlot(u8 page)
                                    292 ;	---------------------------------
                                    293 ; Function Sys_GetPageSlot
                                    294 ; ---------------------------------
      000000                        295 _Sys_GetPageSlot::
      000000 5F               [ 4]  296 	ld	e, a
                                    297 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:15: u8 slot = (g_PortPrimarySlot >> (page * 2)) & 0x03;
      000001 CB 23            [ 8]  298 	sla	e
      000003 43               [ 4]  299 	ld	b, e
      000004 DB A8            [11]  300 	in	a, (_g_PortPrimarySlot)
      000006 4F               [ 4]  301 	ld	c, a
      000007 04               [ 4]  302 	inc	b
      000008 18 02            [12]  303 	jr	00113$
      00000A                        304 00112$:
      00000A CB 39            [ 8]  305 	srl	c
      00000C                        306 00113$:
      00000C 10 FC            [13]  307 	djnz	00112$
      00000E 79               [ 4]  308 	ld	a, c
      00000F E6 03            [ 7]  309 	and	a, #0x03
      000011 4F               [ 4]  310 	ld	c, a
                                    311 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:18: if(g_EXPTBL[slot] & SLOT_EXP)
      000012 21 C1 FC         [10]  312 	ld	hl, #_g_EXPTBL+0
      000015 06 00            [ 7]  313 	ld	b, #0x00
      000017 09               [11]  314 	add	hl, bc
      000018 7E               [ 7]  315 	ld	a, (hl)
      000019 07               [ 4]  316 	rlca
      00001A 30 33            [12]  317 	jr	NC, 00102$
                                    318 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:20: u8 prevSlot = g_PortPrimarySlot; // Backup current primary slots register
      00001C DB A8            [11]  319 	in	a, (_g_PortPrimarySlot)
      00001E 47               [ 4]  320 	ld	b, a
                                    321 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.h:99: inline void DisableInterrupt() { __asm__("di"); }
      00001F F3               [ 4]  322 	di
                                    323 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:22: g_PortPrimarySlot = (prevSlot & 0x3F) | (slot << 6); // Select primary slot in page 3
      000020 78               [ 4]  324 	ld	a, b
      000021 E6 3F            [ 7]  325 	and	a, #0x3f
      000023 6F               [ 4]  326 	ld	l, a
                                    327 ;	spillPairReg hl
                                    328 ;	spillPairReg hl
      000024 79               [ 4]  329 	ld	a, c
      000025 0F               [ 4]  330 	rrca
      000026 0F               [ 4]  331 	rrca
      000027 E6 C0            [ 7]  332 	and	a, #0xc0
      000029 B5               [ 4]  333 	or	a, l
      00002A D3 A8            [11]  334 	out	(_g_PortPrimarySlot), a
                                    335 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:23: slot |= SLOT_EXP;
      00002C CB F9            [ 8]  336 	set	7, c
                                    337 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:24: slot |= (((~g_SLTSL) >> (page * 2)) & 0x03) << 2;
      00002E 3A FF FF         [13]  338 	ld	a, (_g_SLTSL+0)
      000031 6F               [ 4]  339 	ld	l, a
                                    340 ;	spillPairReg hl
                                    341 ;	spillPairReg hl
      000032 26 00            [ 7]  342 	ld	h, #0x00
                                    343 ;	spillPairReg hl
                                    344 ;	spillPairReg hl
      000034 7D               [ 4]  345 	ld	a, l
      000035 2F               [ 4]  346 	cpl
      000036 6F               [ 4]  347 	ld	l, a
                                    348 ;	spillPairReg hl
                                    349 ;	spillPairReg hl
      000037 7C               [ 4]  350 	ld	a, h
      000038 2F               [ 4]  351 	cpl
      000039 67               [ 4]  352 	ld	h, a
                                    353 ;	spillPairReg hl
                                    354 ;	spillPairReg hl
      00003A 1C               [ 4]  355 	inc	e
      00003B 18 04            [12]  356 	jr	00116$
      00003D                        357 00115$:
      00003D CB 2C            [ 8]  358 	sra	h
      00003F CB 1D            [ 8]  359 	rr	l
      000041                        360 00116$:
      000041 1D               [ 4]  361 	dec	e
      000042 20 F9            [12]  362 	jr	NZ, 00115$
      000044 7D               [ 4]  363 	ld	a, l
      000045 E6 03            [ 7]  364 	and	a, #0x03
      000047 87               [ 4]  365 	add	a, a
      000048 87               [ 4]  366 	add	a, a
      000049 B1               [ 4]  367 	or	a, c
      00004A 4F               [ 4]  368 	ld	c, a
                                    369 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:25: g_PortPrimarySlot = prevSlot; // Restore primary slots register
      00004B 78               [ 4]  370 	ld	a, b
      00004C D3 A8            [11]  371 	out	(_g_PortPrimarySlot), a
                                    372 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.h:95: inline void EnableInterrupt() { __asm__("ei"); }
      00004E FB               [ 4]  373 	ei
                                    374 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:26: EnableInterrupt();
      00004F                        375 00102$:
                                    376 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:28: return slot;
      00004F 79               [ 4]  377 	ld	a, c
                                    378 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:29: }
      000050 C9               [10]  379 	ret
                           00F380   380 _g_RDPRIM	=	0xf380
                           00F385   381 _g_WRPRIM	=	0xf385
                           00F38C   382 _g_CLPRIM	=	0xf38c
                           00F39A   383 _g_USRTAB	=	0xf39a
                           00F3DE   384 _g_CNSDFG	=	0xf3de
                           00F3DF   385 _g_RG0SAV	=	0xf3df
                           00F3E0   386 _g_RG1SAV	=	0xf3e0
                           00F3E1   387 _g_RG2SAV	=	0xf3e1
                           00F3E2   388 _g_RG3SAV	=	0xf3e2
                           00F3E3   389 _g_RG4SAV	=	0xf3e3
                           00F3E4   390 _g_RG5SAV	=	0xf3e4
                           00F3E5   391 _g_RG6SAV	=	0xf3e5
                           00F3E6   392 _g_RG7SAV	=	0xf3e6
                           00F3E7   393 _g_STATFL	=	0xf3e7
                           00F3E8   394 _g_TRGFLG	=	0xf3e8
                           00F3EC   395 _g_MAXUPD	=	0xf3ec
                           00F3EF   396 _g_MINUPD	=	0xf3ef
                           00F3F3   397 _g_QUEUES	=	0xf3f3
                           00F3F5   398 _g_FRCNEW	=	0xf3f5
                           00F3F6   399 _g_SCNCNT	=	0xf3f6
                           00F3F7   400 _g_REPCNT	=	0xf3f7
                           00F3F8   401 _g_PUTPNT	=	0xf3f8
                           00F3FA   402 _g_GETPNT	=	0xf3fa
                           00F3FC   403 _g_CS120	=	0xf3fc
                           00F401   404 _g_CS240	=	0xf401
                           00F406   405 _g_LOW	=	0xf406
                           00F408   406 _g_HIGH	=	0xf408
                           00F40A   407 _g_HEADER	=	0xf40a
                           00F40B   408 _g_ASPCT1	=	0xf40b
                           00F40D   409 _g_ASPCT2	=	0xf40d
                           00F959   410 _g_QUETAB	=	0xf959
                           00F971   411 _g_QUEBAK	=	0xf971
                           00F975   412 _g_VOICAQ	=	0xf975
                           00F9F5   413 _g_VOICBQ	=	0xf9f5
                           00FA75   414 _g_VOICCQ	=	0xfa75
                           00FAF5   415 _g_RS2IQ	=	0xfaf5
                           00FAF5   416 _g_DPPAGE	=	0xfaf5
                           00FAF6   417 _g_ACPAGE	=	0xfaf6
                           00FAF7   418 _g_AVCSAV	=	0xfaf7
                           00FAF8   419 _g_EXBRSA	=	0xfaf8
                           00FAF9   420 _g_CHRCNT	=	0xfaf9
                           00FAFA   421 _g_ROMA	=	0xfafa
                           00FAFC   422 _g_MODE	=	0xfafc
                           00FAFD   423 _g_NORUSE	=	0xfafd
                           00FAFE   424 _g_XSAVE	=	0xfafe
                           00FB00   425 _g_YSAVE	=	0xfb00
                           00FB03   426 _g_RSTMP	=	0xfb03
                           00FB03   427 _g_TOCNT	=	0xfb03
                           00FB04   428 _g_RSFCB	=	0xfb04
                           00FB06   429 _g_RSIQLN	=	0xfb06
                           00FB07   430 _g_MEXBIh	=	0xfb07
                           00FB0C   431 _g_OLDSTT	=	0xfb0c
                           00FB0C   432 _g_OLDINT	=	0xfb0c
                           00FB16   433 _g_DEVNUM	=	0xfb16
                           00FB17   434 _g_DATCNT	=	0xfb17
                           00FB1A   435 _g_ERRORS	=	0xfb1a
                           00FB1B   436 _g_FLAGS	=	0xfb1b
                           00FB1C   437 _g_ESTBLS	=	0xfb1c
                           00FB1D   438 _g_COMMSK	=	0xfb1d
                           00FB1E   439 _g_LSTCOM	=	0xfb1e
                           00FB1F   440 _g_LSTMOD	=	0xfb1f
                           00FB35   441 _g_PRSCNT	=	0xfb35
                           00FB36   442 _g_SAVSP	=	0xfb36
                           00FB38   443 _g_VOICEN	=	0xfb38
                           00FB39   444 _g_SAVVOL	=	0xfb39
                           00FB3B   445 _g_MCLLEN	=	0xfb3b
                           00FB3C   446 _g_MCLPTR	=	0xfb3c
                           00FB3E   447 _g_QUEUEN	=	0xfb3e
                           00FB3F   448 _g_MUSICF	=	0xfb3f
                           00FB40   449 _g_PLYCNT	=	0xfb40
                           00FB41   450 _g_VCBA	=	0xfb41
                           00FB66   451 _g_VCBB	=	0xfb66
                           00FB8B   452 _g_VCBC	=	0xfb8b
                           00FBB0   453 _g_ENSTOP	=	0xfbb0
                           00FBB1   454 _g_BASROM	=	0xfbb1
                           00FBB2   455 _g_LINTTB	=	0xfbb2
                           00FBCA   456 _g_FSTPOS	=	0xfbca
                           00FBCC   457 _g_CODSAV	=	0xfbcc
                           00FBCD   458 _g_FNKSWI	=	0xfbcd
                           00FBCE   459 _g_FNKFLG	=	0xfbce
                           00FBD8   460 _g_ONGSBF	=	0xfbd8
                           00FBD9   461 _g_CLIKFL	=	0xfbd9
                           00FBDA   462 _g_OLDKEY	=	0xfbda
                           00FBE5   463 _g_NEWKEY	=	0xfbe5
                           00FBF0   464 _g_KEYBUF	=	0xfbf0
                           00FC18   465 _g_LINWRK	=	0xfc18
                           00FC40   466 _g_PATWRK	=	0xfc40
                           00FC48   467 _g_BOTTOM	=	0xfc48
                           00FC4A   468 _g_HIMEM	=	0xfc4a
                           00FC4C   469 _g_TRPTBL	=	0xfc4c
                           00FC9A   470 _g_RTYCNT	=	0xfc9a
                           00FC9B   471 _g_INTFLG	=	0xfc9b
                           00FC9C   472 _g_PADY	=	0xfc9c
                           00FC9D   473 _g_PADX	=	0xfc9d
                           00FC9E   474 _g_JIFFY	=	0xfc9e
                           00FCA0   475 _g_INTVAL	=	0xfca0
                           00FCA2   476 _g_INTCNT	=	0xfca2
                           00FCA4   477 _g_LOWLIM	=	0xfca4
                           00FCA5   478 _g_WINWID	=	0xfca5
                           00FCA6   479 _g_GRPHED	=	0xfca6
                           00FCA7   480 _g_ESCCNT	=	0xfca7
                           00FCA8   481 _g_INSFLG	=	0xfca8
                           00FCA9   482 _g_CSRSW	=	0xfca9
                           00FCAA   483 _g_CSTYLE	=	0xfcaa
                           00FCAB   484 _g_CAPST	=	0xfcab
                           00FCAC   485 _g_KANAST	=	0xfcac
                           00FCAD   486 _g_KANAMD	=	0xfcad
                           00FCAE   487 _g_FLBMEM	=	0xfcae
                           00FCAF   488 _g_SCRMOD	=	0xfcaf
                           00FCB0   489 _g_OLDSCR	=	0xfcb0
                           00FCB1   490 _g_CASPRV	=	0xfcb1
                           00FCB2   491 _g_BRDATR	=	0xfcb2
                           00FCB3   492 _g_GXPOS	=	0xfcb3
                           00FCB5   493 _g_GYPOS	=	0xfcb5
                           00FCBB   494 _g_DRWFLG	=	0xfcbb
                           00FCBC   495 _g_DRWSCL	=	0xfcbc
                           00FCBD   496 _g_DRWANG	=	0xfcbd
                           00FCC1   497 _g_MNROM	=	0xfcc1
                           00FCC1   498 _g_EXPTBL	=	0xfcc1
                           00FCC5   499 _g_SLTTBL	=	0xfcc5
                           00FCC9   500 _g_SLTATR	=	0xfcc9
                           00FD09   501 _g_SLTWRK	=	0xfd09
                           00FD89   502 _g_PROCNM	=	0xfd89
                           00FFE7   503 _g_RG08SAV	=	0xffe7
                           00FFE8   504 _g_RG09SAV	=	0xffe8
                           00FFE9   505 _g_RG10SAV	=	0xffe9
                           00FFEA   506 _g_RG11SAV	=	0xffea
                           00FFEB   507 _g_RG12SAV	=	0xffeb
                           00FFEC   508 _g_RG13SAV	=	0xffec
                           00FFED   509 _g_RG14SAV	=	0xffed
                           00FFEE   510 _g_RG15SAV	=	0xffee
                           00FFEF   511 _g_RG16SAV	=	0xffef
                           00FFF0   512 _g_RG17SAV	=	0xfff0
                           00FFF1   513 _g_RG18SAV	=	0xfff1
                           00FFF2   514 _g_RG19SAV	=	0xfff2
                           00FFF3   515 _g_RG20SAV	=	0xfff3
                           00FFF4   516 _g_RG21SAV	=	0xfff4
                           00FFF5   517 _g_RG22SAV	=	0xfff5
                           00FFF6   518 _g_RG23SAV	=	0xfff6
                           00FFF7   519 _g_MINROM	=	0xfff7
                           00FFF8   520 _g_SVFFF8	=	0xfff8
                           00FFFA   521 _g_RG25SAV	=	0xfffa
                           00FFFB   522 _g_RG26SAV	=	0xfffb
                           00FFFC   523 _g_RG27SAV	=	0xfffc
                           00FFFD   524 _g_SVFFFD	=	0xfffd
                                    525 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:33: void Sys_SetPageSlot(u8 page, u8 slotId)
                                    526 ;	---------------------------------
                                    527 ; Function Sys_SetPageSlot
                                    528 ; ---------------------------------
      000051                        529 _Sys_SetPageSlot::
                                    530 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:36: slotId;
                                    531 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:60: }
      000051 C9               [10]  532 	ret
                                    533 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:64: void Sys_SetPage0Slot(u8 slotId)
                                    534 ;	---------------------------------
                                    535 ; Function Sys_SetPage0Slot
                                    536 ; ---------------------------------
      000052                        537 _Sys_SetPage0Slot::
                                    538 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:134: __endasm;
      000052 4F               [ 4]  539 	ld	c, a
      000053 E6 80            [ 7]  540 	and	#0b10000000
      000055 CAr89r00         [10]  541 	jp	z, SetNonExpendedSlot
      000058                        542 	 SetExpendedSlot:
      000058 79               [ 4]  543 	ld	a, c
      000059 E6 03            [ 7]  544 	and	#0b00000011
      00005B 57               [ 4]  545 	ld	d, a
      00005C 0F               [ 4]  546 	rrca	
      00005D 0F               [ 4]  547 	rrca 
      00005E E6 C0            [ 7]  548 	and a, #0xC0
      000060 B2               [ 4]  549 	or	d
      000061 57               [ 4]  550 	ld	d, a
      000062 DB A8            [11]  551 	in	a, (0xA8)
      000064 47               [ 4]  552 	ld	b, a
      000065 E6 3C            [ 7]  553 	and	#0b00111100
      000067 B2               [ 4]  554 	or	d
      000068 F3               [ 4]  555 	di
      000069 D3 A8            [11]  556 	out	(0xA8), a
      00006B 79               [ 4]  557 	ld	a, c
      00006C 0F               [ 4]  558 	rrca	
      00006D 0F               [ 4]  559 	rrca 
      00006E E6 3F            [ 7]  560 	and a, #0x3F
      000070 E6 03            [ 7]  561 	and	#0b00000011
      000072 57               [ 4]  562 	ld	d, a
      000073 3A FF FF         [13]  563 	ld	a,(0xFFFF)
      000076 2F               [ 4]  564 	cpl
      000077 E6 FC            [ 7]  565 	and	#0b11111100
      000079 B2               [ 4]  566 	or	d
      00007A 32 FF FF         [13]  567 	ld	(0xFFFF), a
      00007D 78               [ 4]  568 	ld	a, b
      00007E E6 C0            [ 7]  569 	and	#0b11000000
      000080 47               [ 4]  570 	ld	b, a
      000081 DB A8            [11]  571 	in	a, (0xA8)
      000083 E6 3F            [ 7]  572 	and	#0b00111111
      000085 B0               [ 4]  573 	or	b
      000086 D3 A8            [11]  574 	out	(0xA8), a
      000088 C9               [10]  575 	ret
      000089                        576 	 SetNonExpendedSlot:
      000089 79               [ 4]  577 	ld	a, c
      00008A E6 03            [ 7]  578 	and	#0b00000011
      00008C 57               [ 4]  579 	ld	d, a
      00008D DB A8            [11]  580 	in	a, (0xA8)
      00008F 47               [ 4]  581 	ld	b, a
      000090 E6 FC            [ 7]  582 	and	#0b11111100
      000092 B2               [ 4]  583 	or	d
      000093 F3               [ 4]  584 	di
      000094 D3 A8            [11]  585 	out	(0xA8), a
      000096 C9               [10]  586 	ret
                                    587 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:136: }
      000097 C9               [10]  588 	ret
                                    589 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:140: u8 Sys_CheckSlot(CheckSlotCallback cb)
                                    590 ;	---------------------------------
                                    591 ; Function Sys_CheckSlot
                                    592 ; ---------------------------------
      000098                        593 _Sys_CheckSlot::
      000098 DD E5            [15]  594 	push	ix
      00009A DD 21 00 00      [14]  595 	ld	ix,#0
      00009E DD 39            [15]  596 	add	ix,sp
      0000A0 3B               [ 6]  597 	dec	sp
                                    598 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:142: for(u8 slot = 0; slot < 4; ++slot)
      0000A1 01 00 00         [10]  599 	ld	bc, #0x0
      0000A4                        600 00114$:
      0000A4 78               [ 4]  601 	ld	a, b
      0000A5 D6 04            [ 7]  602 	sub	a, #0x04
      0000A7 30 49            [12]  603 	jr	NC, 00109$
                                    604 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:144: if(g_EXPTBL[slot] & SLOT_EXP)
      0000A9 11 C1 FC         [10]  605 	ld	de, #_g_EXPTBL+0
      0000AC 7B               [ 4]  606 	ld	a, e
      0000AD 80               [ 4]  607 	add	a, b
      0000AE 5F               [ 4]  608 	ld	e, a
      0000AF 30 01            [12]  609 	jr	NC, 00153$
      0000B1 14               [ 4]  610 	inc	d
      0000B2                        611 00153$:
      0000B2 1A               [ 7]  612 	ld	a, (de)
      0000B3 07               [ 4]  613 	rlca
      0000B4 30 2A            [12]  614 	jr	NC, 00107$
                                    615 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:146: for(u8 sub = 0; sub < 4; ++sub)
      0000B6 78               [ 4]  616 	ld	a, b
      0000B7 E6 03            [ 7]  617 	and	a, #0x03
      0000B9 DD 77 FF         [19]  618 	ld	-1 (ix), a
      0000BC 0E 00            [ 7]  619 	ld	c, #0x00
      0000BE                        620 00111$:
                                    621 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:148: u8 slotId = SLOTEX(slot, sub);
      0000BE 79               [ 4]  622 	ld	a,c
      0000BF FE 04            [ 7]  623 	cp	a,#0x04
      0000C1 30 2B            [12]  624 	jr	NC, 00115$
      0000C3 E6 03            [ 7]  625 	and	a, #0x03
      0000C5 87               [ 4]  626 	add	a, a
      0000C6 87               [ 4]  627 	add	a, a
      0000C7 DD B6 FF         [19]  628 	or	a, -1 (ix)
      0000CA 5F               [ 4]  629 	ld	e, a
      0000CB CB FB            [ 8]  630 	set	7, e
                                    631 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:149: if(cb(slotId))
      0000CD E5               [11]  632 	push	hl
      0000CE C5               [11]  633 	push	bc
      0000CF D5               [11]  634 	push	de
      0000D0 7B               [ 4]  635 	ld	a, e
      0000D1 CDr00r00         [17]  636 	call	___sdcc_call_hl
      0000D4 D1               [10]  637 	pop	de
      0000D5 C1               [10]  638 	pop	bc
      0000D6 E1               [10]  639 	pop	hl
      0000D7 B7               [ 4]  640 	or	a, a
      0000D8 28 03            [12]  641 	jr	Z, 00112$
                                    642 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:150: return slotId;
      0000DA 7B               [ 4]  643 	ld	a, e
      0000DB 18 17            [12]  644 	jr	00116$
      0000DD                        645 00112$:
                                    646 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:146: for(u8 sub = 0; sub < 4; ++sub)
      0000DD 0C               [ 4]  647 	inc	c
      0000DE 18 DE            [12]  648 	jr	00111$
      0000E0                        649 00107$:
                                    650 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:153: else if(cb(slot))
      0000E0 E5               [11]  651 	push	hl
      0000E1 C5               [11]  652 	push	bc
      0000E2 78               [ 4]  653 	ld	a, b
      0000E3 CDr00r00         [17]  654 	call	___sdcc_call_hl
      0000E6 C1               [10]  655 	pop	bc
      0000E7 E1               [10]  656 	pop	hl
      0000E8 B7               [ 4]  657 	or	a, a
      0000E9 28 03            [12]  658 	jr	Z, 00115$
                                    659 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:154: return slot;
      0000EB 79               [ 4]  660 	ld	a, c
      0000EC 18 06            [12]  661 	jr	00116$
      0000EE                        662 00115$:
                                    663 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:142: for(u8 slot = 0; slot < 4; ++slot)
      0000EE 04               [ 4]  664 	inc	b
      0000EF 48               [ 4]  665 	ld	c, b
      0000F0 18 B2            [12]  666 	jr	00114$
      0000F2                        667 00109$:
                                    668 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:156: return SLOT_NOTFOUND;
      0000F2 3E FF            [ 7]  669 	ld	a, #0xff
      0000F4                        670 00116$:
                                    671 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/system.c:157: }
      0000F4 33               [ 6]  672 	inc	sp
      0000F5 DD E1            [14]  673 	pop	ix
      0000F7 C9               [10]  674 	ret
                                    675 	.area _CODE
                                    676 	.area _INITIALIZER
                                    677 	.area _CABS (ABS)
