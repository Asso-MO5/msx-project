                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.2.0 #13081 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module vdp
                                      6 	.optsdcc -mz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _VDP_SetSprite
                                     12 	.globl _g_VDPInitilized
                                     13 	.globl _g_SpriteColorLow
                                     14 	.globl _g_SpritePatternLow
                                     15 	.globl _g_SpriteAttributeLow
                                     16 	.globl _g_ScreenPatternLow
                                     17 	.globl _g_ScreenColorLow
                                     18 	.globl _g_ScreenLayoutLow
                                     19 	.globl _g_VDP_Sprite
                                     20 	.globl _g_VDP_Command
                                     21 	.globl _g_VDP_Data
                                     22 	.globl _g_VDP_REGSAV
                                     23 	.globl _g_SLTSL
                                     24 	.globl _g_GRPACY
                                     25 	.globl _g_GRPACX
                                     26 	.globl _g_LOGOPR
                                     27 	.globl _g_CMASK
                                     28 	.globl _g_CLOC
                                     29 	.globl _g_FNKSTR
                                     30 	.globl _g_ATRBYT
                                     31 	.globl _g_BDRCLR
                                     32 	.globl _g_BAKCLR
                                     33 	.globl _g_FORCLR
                                     34 	.globl _g_CSRX
                                     35 	.globl _g_CSRY
                                     36 	.globl _g_CLIKSW
                                     37 	.globl _g_MLTPAT
                                     38 	.globl _g_MLTATR
                                     39 	.globl _g_MLTCGP
                                     40 	.globl _g_MLTCOL
                                     41 	.globl _g_MLTNAM
                                     42 	.globl _g_GRPPAT
                                     43 	.globl _g_GRPATR
                                     44 	.globl _g_GRPCGP
                                     45 	.globl _g_GRPCOL
                                     46 	.globl _g_GRPNAM
                                     47 	.globl _g_T32PAT
                                     48 	.globl _g_T32ATR
                                     49 	.globl _g_T32CGP
                                     50 	.globl _g_T32COL
                                     51 	.globl _g_T32NAM
                                     52 	.globl _g_TXTPAT
                                     53 	.globl _g_TXTATR
                                     54 	.globl _g_TXTCGP
                                     55 	.globl _g_TXTCOL
                                     56 	.globl _g_TXTNAM
                                     57 	.globl _g_CLMLST
                                     58 	.globl _g_CRTCNT
                                     59 	.globl _g_LINLEN
                                     60 	.globl _g_LINL32
                                     61 	.globl _g_LINL40
                                     62 	.globl _g_CHAR_16
                                     63 	.globl _g_MSXMID
                                     64 	.globl _g_MSXVER
                                     65 	.globl _g_ROMVersion
                                     66 	.globl _g_BASRVN
                                     67 	.globl _g_VDP_DW
                                     68 	.globl _g_VDP_DR
                                     69 	.globl _g_CGTABL
                                     70 	.globl _g_SVFFFD
                                     71 	.globl _g_RG27SAV
                                     72 	.globl _g_RG26SAV
                                     73 	.globl _g_RG25SAV
                                     74 	.globl _g_SVFFF8
                                     75 	.globl _g_MINROM
                                     76 	.globl _g_RG23SAV
                                     77 	.globl _g_RG22SAV
                                     78 	.globl _g_RG21SAV
                                     79 	.globl _g_RG20SAV
                                     80 	.globl _g_RG19SAV
                                     81 	.globl _g_RG18SAV
                                     82 	.globl _g_RG17SAV
                                     83 	.globl _g_RG16SAV
                                     84 	.globl _g_RG15SAV
                                     85 	.globl _g_RG14SAV
                                     86 	.globl _g_RG13SAV
                                     87 	.globl _g_RG12SAV
                                     88 	.globl _g_RG11SAV
                                     89 	.globl _g_RG10SAV
                                     90 	.globl _g_RG09SAV
                                     91 	.globl _g_RG08SAV
                                     92 	.globl _g_PROCNM
                                     93 	.globl _g_SLTWRK
                                     94 	.globl _g_SLTATR
                                     95 	.globl _g_SLTTBL
                                     96 	.globl _g_EXPTBL
                                     97 	.globl _g_MNROM
                                     98 	.globl _g_DRWANG
                                     99 	.globl _g_DRWSCL
                                    100 	.globl _g_DRWFLG
                                    101 	.globl _g_GYPOS
                                    102 	.globl _g_GXPOS
                                    103 	.globl _g_BRDATR
                                    104 	.globl _g_CASPRV
                                    105 	.globl _g_OLDSCR
                                    106 	.globl _g_SCRMOD
                                    107 	.globl _g_FLBMEM
                                    108 	.globl _g_KANAMD
                                    109 	.globl _g_KANAST
                                    110 	.globl _g_CAPST
                                    111 	.globl _g_CSTYLE
                                    112 	.globl _g_CSRSW
                                    113 	.globl _g_INSFLG
                                    114 	.globl _g_ESCCNT
                                    115 	.globl _g_GRPHED
                                    116 	.globl _g_WINWID
                                    117 	.globl _g_LOWLIM
                                    118 	.globl _g_INTCNT
                                    119 	.globl _g_INTVAL
                                    120 	.globl _g_JIFFY
                                    121 	.globl _g_PADX
                                    122 	.globl _g_PADY
                                    123 	.globl _g_INTFLG
                                    124 	.globl _g_RTYCNT
                                    125 	.globl _g_TRPTBL
                                    126 	.globl _g_HIMEM
                                    127 	.globl _g_BOTTOM
                                    128 	.globl _g_PATWRK
                                    129 	.globl _g_LINWRK
                                    130 	.globl _g_KEYBUF
                                    131 	.globl _g_NEWKEY
                                    132 	.globl _g_OLDKEY
                                    133 	.globl _g_CLIKFL
                                    134 	.globl _g_ONGSBF
                                    135 	.globl _g_FNKFLG
                                    136 	.globl _g_FNKSWI
                                    137 	.globl _g_CODSAV
                                    138 	.globl _g_FSTPOS
                                    139 	.globl _g_LINTTB
                                    140 	.globl _g_BASROM
                                    141 	.globl _g_ENSTOP
                                    142 	.globl _g_VCBC
                                    143 	.globl _g_VCBB
                                    144 	.globl _g_VCBA
                                    145 	.globl _g_PLYCNT
                                    146 	.globl _g_MUSICF
                                    147 	.globl _g_QUEUEN
                                    148 	.globl _g_MCLPTR
                                    149 	.globl _g_MCLLEN
                                    150 	.globl _g_SAVVOL
                                    151 	.globl _g_VOICEN
                                    152 	.globl _g_SAVSP
                                    153 	.globl _g_PRSCNT
                                    154 	.globl _g_LSTMOD
                                    155 	.globl _g_LSTCOM
                                    156 	.globl _g_COMMSK
                                    157 	.globl _g_ESTBLS
                                    158 	.globl _g_FLAGS
                                    159 	.globl _g_ERRORS
                                    160 	.globl _g_DATCNT
                                    161 	.globl _g_DEVNUM
                                    162 	.globl _g_OLDINT
                                    163 	.globl _g_OLDSTT
                                    164 	.globl _g_MEXBIh
                                    165 	.globl _g_RSIQLN
                                    166 	.globl _g_RSFCB
                                    167 	.globl _g_TOCNT
                                    168 	.globl _g_RSTMP
                                    169 	.globl _g_YSAVE
                                    170 	.globl _g_XSAVE
                                    171 	.globl _g_NORUSE
                                    172 	.globl _g_MODE
                                    173 	.globl _g_ROMA
                                    174 	.globl _g_CHRCNT
                                    175 	.globl _g_EXBRSA
                                    176 	.globl _g_AVCSAV
                                    177 	.globl _g_ACPAGE
                                    178 	.globl _g_DPPAGE
                                    179 	.globl _g_RS2IQ
                                    180 	.globl _g_VOICCQ
                                    181 	.globl _g_VOICBQ
                                    182 	.globl _g_VOICAQ
                                    183 	.globl _g_QUEBAK
                                    184 	.globl _g_QUETAB
                                    185 	.globl _g_ASPCT2
                                    186 	.globl _g_ASPCT1
                                    187 	.globl _g_HEADER
                                    188 	.globl _g_HIGH
                                    189 	.globl _g_LOW
                                    190 	.globl _g_CS240
                                    191 	.globl _g_CS120
                                    192 	.globl _g_GETPNT
                                    193 	.globl _g_PUTPNT
                                    194 	.globl _g_REPCNT
                                    195 	.globl _g_SCNCNT
                                    196 	.globl _g_FRCNEW
                                    197 	.globl _g_QUEUES
                                    198 	.globl _g_MINUPD
                                    199 	.globl _g_MAXUPD
                                    200 	.globl _g_TRGFLG
                                    201 	.globl _g_STATFL
                                    202 	.globl _g_RG7SAV
                                    203 	.globl _g_RG6SAV
                                    204 	.globl _g_RG5SAV
                                    205 	.globl _g_RG4SAV
                                    206 	.globl _g_RG3SAV
                                    207 	.globl _g_RG2SAV
                                    208 	.globl _g_RG1SAV
                                    209 	.globl _g_RG0SAV
                                    210 	.globl _g_CNSDFG
                                    211 	.globl _g_USRTAB
                                    212 	.globl _g_CLPRIM
                                    213 	.globl _g_WRPRIM
                                    214 	.globl _g_RDPRIM
                                    215 	.globl _VDP_SetModeFlag
                                    216 	.globl _VDP_SetModeText1
                                    217 	.globl _VDP_SetModeMultiColor
                                    218 	.globl _VDP_SetModeGraphic1
                                    219 	.globl _VDP_SetModeGraphic2
                                    220 	.globl _VDP_ClearVRAM
                                    221 	.globl _VDP_WriteVRAM_16K
                                    222 	.globl _VDP_FillVRAM_16K
                                    223 	.globl _VDP_ReadVRAM_16K
                                    224 	.globl _VDP_Peek_16K
                                    225 	.globl _VDP_Poke_16K
                                    226 	.globl _VDP_Initialize
                                    227 	.globl _VDP_SetMode
                                    228 	.globl _VDP_GetVersion
                                    229 	.globl _VDP_RegWrite
                                    230 	.globl _VDP_RegWriteBak
                                    231 	.globl _VDP_RegWriteBakMask
                                    232 	.globl _VDP_ReadDefaultStatus
                                    233 	.globl _VDP_SetLayoutTable
                                    234 	.globl _VDP_SetColorTable
                                    235 	.globl _VDP_SetPatternTable
                                    236 	.globl _VDP_SetSpriteAttributeTable
                                    237 	.globl _VDP_SetSpritePatternTable
                                    238 	.globl _VDP_LoadSpritePattern
                                    239 	.globl _VDP_SetSpriteSM1
                                    240 	.globl _VDP_SetSpritePosition
                                    241 	.globl _VDP_SetSpritePositionX
                                    242 	.globl _VDP_SetSpritePositionY
                                    243 	.globl _VDP_SetSpritePattern
                                    244 	.globl _VDP_SetSpriteColorSM1
                                    245 	.globl _VDP_DisableSpritesFrom
                                    246 	.globl _VDP_LoadPattern_GM2
                                    247 	.globl _VDP_LoadColor_GM2
                                    248 	.globl _VDP_WriteLayout_GM2
                                    249 	.globl _VDP_FillLayout_GM2
                                    250 ;--------------------------------------------------------
                                    251 ; special function registers
                                    252 ;--------------------------------------------------------
                           0000A8   253 _g_PortPrimarySlot	=	0x00a8
                           0000A9   254 _g_PortReadKeyboard	=	0x00a9
                           0000AA   255 _g_PortAccessKeyboard	=	0x00aa
                           0000AB   256 _g_PortControl	=	0x00ab
                           000098   257 _g_VDP_DataPort	=	0x0098
                           000099   258 _g_VDP_RegPort	=	0x0099
                           000099   259 _g_VDP_AddrPort	=	0x0099
                           000099   260 _g_VDP_StatPort	=	0x0099
                           0000A0   261 _g_PSG_RegPort	=	0x00a0
                           0000A1   262 _g_PSG_DataPort	=	0x00a1
                           0000A2   263 _g_PSG_StatPort	=	0x00a2
                           000010   264 _g_PSG_Ext_RegPort	=	0x0010
                           000011   265 _g_PSG_Ext_DataPort	=	0x0011
                           000012   266 _g_PSG_Ext_StatPort	=	0x0012
                           00007C   267 _g_MSXMusic_IndexPort	=	0x007c
                           00007D   268 _g_MSXMusic_DataPort	=	0x007d
                           0000C0   269 _g_MSXAudio_IndexPort	=	0x00c0
                           0000C1   270 _g_MSXAudio_DataPort	=	0x00c1
                           0000C2   271 _g_MSXAudio_IndexPort2	=	0x00c2
                           0000C3   272 _g_MSXAudio_DataPort2	=	0x00c3
                           0000B4   273 _g_RTC_AddrPort	=	0x00b4
                           0000B5   274 _g_RTC_DataPort	=	0x00b5
                                    275 ;--------------------------------------------------------
                                    276 ; ram data
                                    277 ;--------------------------------------------------------
                                    278 	.area _DATA
                           00F3AE   279 _g_LINL40	=	0xf3ae
                           00F3AF   280 _g_LINL32	=	0xf3af
                           00F3B0   281 _g_LINLEN	=	0xf3b0
                           00F3B1   282 _g_CRTCNT	=	0xf3b1
                           00F3B2   283 _g_CLMLST	=	0xf3b2
                           00F3B3   284 _g_TXTNAM	=	0xf3b3
                           00F3B5   285 _g_TXTCOL	=	0xf3b5
                           00F3B7   286 _g_TXTCGP	=	0xf3b7
                           00F3B9   287 _g_TXTATR	=	0xf3b9
                           00F3BB   288 _g_TXTPAT	=	0xf3bb
                           00F3BD   289 _g_T32NAM	=	0xf3bd
                           00F3BF   290 _g_T32COL	=	0xf3bf
                           00F3C1   291 _g_T32CGP	=	0xf3c1
                           00F3C3   292 _g_T32ATR	=	0xf3c3
                           00F3C5   293 _g_T32PAT	=	0xf3c5
                           00F3C7   294 _g_GRPNAM	=	0xf3c7
                           00F3C9   295 _g_GRPCOL	=	0xf3c9
                           00F3CB   296 _g_GRPCGP	=	0xf3cb
                           00F3CD   297 _g_GRPATR	=	0xf3cd
                           00F3CF   298 _g_GRPPAT	=	0xf3cf
                           00F3D1   299 _g_MLTNAM	=	0xf3d1
                           00F3D3   300 _g_MLTCOL	=	0xf3d3
                           00F3D5   301 _g_MLTCGP	=	0xf3d5
                           00F3D7   302 _g_MLTATR	=	0xf3d7
                           00F3D9   303 _g_MLTPAT	=	0xf3d9
                           00F3DB   304 _g_CLIKSW	=	0xf3db
                           00F3DC   305 _g_CSRY	=	0xf3dc
                           00F3DD   306 _g_CSRX	=	0xf3dd
                           00F3E9   307 _g_FORCLR	=	0xf3e9
                           00F3EA   308 _g_BAKCLR	=	0xf3ea
                           00F3EB   309 _g_BDRCLR	=	0xf3eb
                           00F3F2   310 _g_ATRBYT	=	0xf3f2
                           00F87F   311 _g_FNKSTR	=	0xf87f
                           00F92A   312 _g_CLOC	=	0xf92a
                           00F92C   313 _g_CMASK	=	0xf92c
                           00FB02   314 _g_LOGOPR	=	0xfb02
                           00FCB7   315 _g_GRPACX	=	0xfcb7
                           00FCB9   316 _g_GRPACY	=	0xfcb9
                           00FFFF   317 _g_SLTSL	=	0xffff
      000000                        318 _g_VDP_REGSAV::
      000000                        319 	.ds 28
      00001C                        320 _g_VDP_Data::
      00001C                        321 	.ds 2
      00001E                        322 _g_VDP_Command::
      00001E                        323 	.ds 15
      00002D                        324 _g_VDP_Sprite::
      00002D                        325 	.ds 4
      000031                        326 _g_ScreenLayoutLow::
      000031                        327 	.ds 2
      000033                        328 _g_ScreenColorLow::
      000033                        329 	.ds 2
      000035                        330 _g_ScreenPatternLow::
      000035                        331 	.ds 2
      000037                        332 _g_SpriteAttributeLow::
      000037                        333 	.ds 2
      000039                        334 _g_SpritePatternLow::
      000039                        335 	.ds 2
      00003B                        336 _g_SpriteColorLow::
      00003B                        337 	.ds 2
                                    338 ;--------------------------------------------------------
                                    339 ; ram data
                                    340 ;--------------------------------------------------------
                                    341 	.area _INITIALIZED
      000000                        342 _g_VDPInitilized::
      000000                        343 	.ds 1
                                    344 ;--------------------------------------------------------
                                    345 ; absolute external ram data
                                    346 ;--------------------------------------------------------
                                    347 	.area _DABS (ABS)
                                    348 ;--------------------------------------------------------
                                    349 ; global & static initialisations
                                    350 ;--------------------------------------------------------
                                    351 	.area _HOME
                                    352 	.area _GSINIT
                                    353 	.area _GSFINAL
                                    354 	.area _GSINIT
                                    355 ;--------------------------------------------------------
                                    356 ; Home
                                    357 ;--------------------------------------------------------
                                    358 	.area _HOME
                                    359 	.area _HOME
                                    360 ;--------------------------------------------------------
                                    361 ; code
                                    362 ;--------------------------------------------------------
                                    363 	.area _CODE
                                    364 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:169: void VDP_SetModeFlag(u8 flag)
                                    365 ;	---------------------------------
                                    366 ; Function VDP_SetModeFlag
                                    367 ; ---------------------------------
      000000                        368 _VDP_SetModeFlag::
      000000 5F               [ 4]  369 	ld	e, a
                                    370 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:172: u8 reg1 = g_VDP_REGSAV[1];
      000001 3Ar01r00         [13]  371 	ld	a, (#_g_VDP_REGSAV + 1)
                                    372 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:173: reg1 &= 0b11100111;
      000004 E6 E7            [ 7]  373 	and	a, #0xe7
      000006 6F               [ 4]  374 	ld	l, a
                                    375 ;	spillPairReg hl
                                    376 ;	spillPairReg hl
                                    377 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:174: if(flag & 0b00001)
      000007 CB 43            [ 8]  378 	bit	0, e
      000009 28 02            [12]  379 	jr	Z, 00102$
                                    380 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:175: reg1 |= 0b00010000;
      00000B CB E5            [ 8]  381 	set	4, l
      00000D                        382 00102$:
                                    383 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:176: if(flag & 0b00010)
      00000D CB 4B            [ 8]  384 	bit	1, e
      00000F 28 02            [12]  385 	jr	Z, 00104$
                                    386 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:177: reg1 |= 0b00001000;
      000011 CB DD            [ 8]  387 	set	3, l
      000013                        388 00104$:
                                    389 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:178: VDP_RegWriteBak(1, reg1);
      000013 3E 01            [ 7]  390 	ld	a, #0x01
      000015 CDrF7r01         [17]  391 	call	_VDP_RegWriteBak
                                    392 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:181: u8 reg0 = g_VDP_REGSAV[0];
      000018 3Ar00r00         [13]  393 	ld	a, (#_g_VDP_REGSAV + 0)
                                    394 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:182: reg0 &= 0b11110001;
      00001B E6 F1            [ 7]  395 	and	a, #0xf1
      00001D 4F               [ 4]  396 	ld	c, a
                                    397 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:183: flag >>= 1;
      00001E 7B               [ 4]  398 	ld	a, e
      00001F CB 3F            [ 8]  399 	srl	a
                                    400 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:184: flag &= 0b00001110;
      000021 E6 0E            [ 7]  401 	and	a, #0x0e
                                    402 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:185: reg0 |= flag;
      000023 B1               [ 4]  403 	or	a, c
      000024 6F               [ 4]  404 	ld	l, a
                                    405 ;	spillPairReg hl
                                    406 ;	spillPairReg hl
                                    407 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:186: VDP_RegWriteBak(0, reg0);
      000025 AF               [ 4]  408 	xor	a, a
                                    409 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:187: }
      000026 C3rF7r01         [10]  410 	jp	_VDP_RegWriteBak
                           00F380   411 _g_RDPRIM	=	0xf380
                           00F385   412 _g_WRPRIM	=	0xf385
                           00F38C   413 _g_CLPRIM	=	0xf38c
                           00F39A   414 _g_USRTAB	=	0xf39a
                           00F3DE   415 _g_CNSDFG	=	0xf3de
                           00F3DF   416 _g_RG0SAV	=	0xf3df
                           00F3E0   417 _g_RG1SAV	=	0xf3e0
                           00F3E1   418 _g_RG2SAV	=	0xf3e1
                           00F3E2   419 _g_RG3SAV	=	0xf3e2
                           00F3E3   420 _g_RG4SAV	=	0xf3e3
                           00F3E4   421 _g_RG5SAV	=	0xf3e4
                           00F3E5   422 _g_RG6SAV	=	0xf3e5
                           00F3E6   423 _g_RG7SAV	=	0xf3e6
                           00F3E7   424 _g_STATFL	=	0xf3e7
                           00F3E8   425 _g_TRGFLG	=	0xf3e8
                           00F3EC   426 _g_MAXUPD	=	0xf3ec
                           00F3EF   427 _g_MINUPD	=	0xf3ef
                           00F3F3   428 _g_QUEUES	=	0xf3f3
                           00F3F5   429 _g_FRCNEW	=	0xf3f5
                           00F3F6   430 _g_SCNCNT	=	0xf3f6
                           00F3F7   431 _g_REPCNT	=	0xf3f7
                           00F3F8   432 _g_PUTPNT	=	0xf3f8
                           00F3FA   433 _g_GETPNT	=	0xf3fa
                           00F3FC   434 _g_CS120	=	0xf3fc
                           00F401   435 _g_CS240	=	0xf401
                           00F406   436 _g_LOW	=	0xf406
                           00F408   437 _g_HIGH	=	0xf408
                           00F40A   438 _g_HEADER	=	0xf40a
                           00F40B   439 _g_ASPCT1	=	0xf40b
                           00F40D   440 _g_ASPCT2	=	0xf40d
                           00F959   441 _g_QUETAB	=	0xf959
                           00F971   442 _g_QUEBAK	=	0xf971
                           00F975   443 _g_VOICAQ	=	0xf975
                           00F9F5   444 _g_VOICBQ	=	0xf9f5
                           00FA75   445 _g_VOICCQ	=	0xfa75
                           00FAF5   446 _g_RS2IQ	=	0xfaf5
                           00FAF5   447 _g_DPPAGE	=	0xfaf5
                           00FAF6   448 _g_ACPAGE	=	0xfaf6
                           00FAF7   449 _g_AVCSAV	=	0xfaf7
                           00FAF8   450 _g_EXBRSA	=	0xfaf8
                           00FAF9   451 _g_CHRCNT	=	0xfaf9
                           00FAFA   452 _g_ROMA	=	0xfafa
                           00FAFC   453 _g_MODE	=	0xfafc
                           00FAFD   454 _g_NORUSE	=	0xfafd
                           00FAFE   455 _g_XSAVE	=	0xfafe
                           00FB00   456 _g_YSAVE	=	0xfb00
                           00FB03   457 _g_RSTMP	=	0xfb03
                           00FB03   458 _g_TOCNT	=	0xfb03
                           00FB04   459 _g_RSFCB	=	0xfb04
                           00FB06   460 _g_RSIQLN	=	0xfb06
                           00FB07   461 _g_MEXBIh	=	0xfb07
                           00FB0C   462 _g_OLDSTT	=	0xfb0c
                           00FB0C   463 _g_OLDINT	=	0xfb0c
                           00FB16   464 _g_DEVNUM	=	0xfb16
                           00FB17   465 _g_DATCNT	=	0xfb17
                           00FB1A   466 _g_ERRORS	=	0xfb1a
                           00FB1B   467 _g_FLAGS	=	0xfb1b
                           00FB1C   468 _g_ESTBLS	=	0xfb1c
                           00FB1D   469 _g_COMMSK	=	0xfb1d
                           00FB1E   470 _g_LSTCOM	=	0xfb1e
                           00FB1F   471 _g_LSTMOD	=	0xfb1f
                           00FB35   472 _g_PRSCNT	=	0xfb35
                           00FB36   473 _g_SAVSP	=	0xfb36
                           00FB38   474 _g_VOICEN	=	0xfb38
                           00FB39   475 _g_SAVVOL	=	0xfb39
                           00FB3B   476 _g_MCLLEN	=	0xfb3b
                           00FB3C   477 _g_MCLPTR	=	0xfb3c
                           00FB3E   478 _g_QUEUEN	=	0xfb3e
                           00FB3F   479 _g_MUSICF	=	0xfb3f
                           00FB40   480 _g_PLYCNT	=	0xfb40
                           00FB41   481 _g_VCBA	=	0xfb41
                           00FB66   482 _g_VCBB	=	0xfb66
                           00FB8B   483 _g_VCBC	=	0xfb8b
                           00FBB0   484 _g_ENSTOP	=	0xfbb0
                           00FBB1   485 _g_BASROM	=	0xfbb1
                           00FBB2   486 _g_LINTTB	=	0xfbb2
                           00FBCA   487 _g_FSTPOS	=	0xfbca
                           00FBCC   488 _g_CODSAV	=	0xfbcc
                           00FBCD   489 _g_FNKSWI	=	0xfbcd
                           00FBCE   490 _g_FNKFLG	=	0xfbce
                           00FBD8   491 _g_ONGSBF	=	0xfbd8
                           00FBD9   492 _g_CLIKFL	=	0xfbd9
                           00FBDA   493 _g_OLDKEY	=	0xfbda
                           00FBE5   494 _g_NEWKEY	=	0xfbe5
                           00FBF0   495 _g_KEYBUF	=	0xfbf0
                           00FC18   496 _g_LINWRK	=	0xfc18
                           00FC40   497 _g_PATWRK	=	0xfc40
                           00FC48   498 _g_BOTTOM	=	0xfc48
                           00FC4A   499 _g_HIMEM	=	0xfc4a
                           00FC4C   500 _g_TRPTBL	=	0xfc4c
                           00FC9A   501 _g_RTYCNT	=	0xfc9a
                           00FC9B   502 _g_INTFLG	=	0xfc9b
                           00FC9C   503 _g_PADY	=	0xfc9c
                           00FC9D   504 _g_PADX	=	0xfc9d
                           00FC9E   505 _g_JIFFY	=	0xfc9e
                           00FCA0   506 _g_INTVAL	=	0xfca0
                           00FCA2   507 _g_INTCNT	=	0xfca2
                           00FCA4   508 _g_LOWLIM	=	0xfca4
                           00FCA5   509 _g_WINWID	=	0xfca5
                           00FCA6   510 _g_GRPHED	=	0xfca6
                           00FCA7   511 _g_ESCCNT	=	0xfca7
                           00FCA8   512 _g_INSFLG	=	0xfca8
                           00FCA9   513 _g_CSRSW	=	0xfca9
                           00FCAA   514 _g_CSTYLE	=	0xfcaa
                           00FCAB   515 _g_CAPST	=	0xfcab
                           00FCAC   516 _g_KANAST	=	0xfcac
                           00FCAD   517 _g_KANAMD	=	0xfcad
                           00FCAE   518 _g_FLBMEM	=	0xfcae
                           00FCAF   519 _g_SCRMOD	=	0xfcaf
                           00FCB0   520 _g_OLDSCR	=	0xfcb0
                           00FCB1   521 _g_CASPRV	=	0xfcb1
                           00FCB2   522 _g_BRDATR	=	0xfcb2
                           00FCB3   523 _g_GXPOS	=	0xfcb3
                           00FCB5   524 _g_GYPOS	=	0xfcb5
                           00FCBB   525 _g_DRWFLG	=	0xfcbb
                           00FCBC   526 _g_DRWSCL	=	0xfcbc
                           00FCBD   527 _g_DRWANG	=	0xfcbd
                           00FCC1   528 _g_MNROM	=	0xfcc1
                           00FCC1   529 _g_EXPTBL	=	0xfcc1
                           00FCC5   530 _g_SLTTBL	=	0xfcc5
                           00FCC9   531 _g_SLTATR	=	0xfcc9
                           00FD09   532 _g_SLTWRK	=	0xfd09
                           00FD89   533 _g_PROCNM	=	0xfd89
                           00FFE7   534 _g_RG08SAV	=	0xffe7
                           00FFE8   535 _g_RG09SAV	=	0xffe8
                           00FFE9   536 _g_RG10SAV	=	0xffe9
                           00FFEA   537 _g_RG11SAV	=	0xffea
                           00FFEB   538 _g_RG12SAV	=	0xffeb
                           00FFEC   539 _g_RG13SAV	=	0xffec
                           00FFED   540 _g_RG14SAV	=	0xffed
                           00FFEE   541 _g_RG15SAV	=	0xffee
                           00FFEF   542 _g_RG16SAV	=	0xffef
                           00FFF0   543 _g_RG17SAV	=	0xfff0
                           00FFF1   544 _g_RG18SAV	=	0xfff1
                           00FFF2   545 _g_RG19SAV	=	0xfff2
                           00FFF3   546 _g_RG20SAV	=	0xfff3
                           00FFF4   547 _g_RG21SAV	=	0xfff4
                           00FFF5   548 _g_RG22SAV	=	0xfff5
                           00FFF6   549 _g_RG23SAV	=	0xfff6
                           00FFF7   550 _g_MINROM	=	0xfff7
                           00FFF8   551 _g_SVFFF8	=	0xfff8
                           00FFFA   552 _g_RG25SAV	=	0xfffa
                           00FFFB   553 _g_RG26SAV	=	0xfffb
                           00FFFC   554 _g_RG27SAV	=	0xfffc
                           00FFFD   555 _g_SVFFFD	=	0xfffd
                           000004   556 _g_CGTABL	=	0x0004
                           000006   557 _g_VDP_DR	=	0x0006
                           000007   558 _g_VDP_DW	=	0x0007
                           00002B   559 _g_BASRVN	=	0x002b
                           00002B   560 _g_ROMVersion	=	0x002b
                           00002D   561 _g_MSXVER	=	0x002d
                           00002E   562 _g_MSXMID	=	0x002e
                           000034   563 _g_CHAR_16	=	0x0034
                                    564 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:192: void VDP_SetModeText1()
                                    565 ;	---------------------------------
                                    566 ; Function VDP_SetModeText1
                                    567 ; ---------------------------------
      000029                        568 _VDP_SetModeText1::
                                    569 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:194: VDP_SetModeFlag(VDP_T1_MODE);
      000029 3E 01            [ 7]  570 	ld	a, #0x01
      00002B CDr00r00         [17]  571 	call	_VDP_SetModeFlag
                                    572 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:195: VDP_SetLayoutTable(VDP_T1_ADDR_NT);
      00002E 21 00 00         [10]  573 	ld	hl, #0x0000
      000031 CDr2Cr02         [17]  574 	call	_VDP_SetLayoutTable
                                    575 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:196: VDP_SetPatternTable(VDP_T1_ADDR_PT);
      000034 21 00 08         [10]  576 	ld	hl, #0x0800
                                    577 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:197: }
      000037 C3r69r02         [10]  578 	jp	_VDP_SetPatternTable
                                    579 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:203: void VDP_SetModeMultiColor()
                                    580 ;	---------------------------------
                                    581 ; Function VDP_SetModeMultiColor
                                    582 ; ---------------------------------
      00003A                        583 _VDP_SetModeMultiColor::
                                    584 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:205: VDP_SetModeFlag(VDP_MC_MODE);
      00003A 3E 02            [ 7]  585 	ld	a, #0x02
      00003C CDr00r00         [17]  586 	call	_VDP_SetModeFlag
                                    587 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:206: VDP_SetLayoutTable(VDP_MC_ADDR_NT);
      00003F 21 00 08         [10]  588 	ld	hl, #0x0800
      000042 CDr2Cr02         [17]  589 	call	_VDP_SetLayoutTable
                                    590 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:207: VDP_SetPatternTable(VDP_MC_ADDR_PT);
      000045 21 00 00         [10]  591 	ld	hl, #0x0000
      000048 CDr69r02         [17]  592 	call	_VDP_SetPatternTable
                                    593 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:209: VDP_SetSpriteAttributeTable(VDP_MC_ADDR_SAT);
      00004B 21 00 1B         [10]  594 	ld	hl, #0x1b00
      00004E CDr86r02         [17]  595 	call	_VDP_SetSpriteAttributeTable
                                    596 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:210: VDP_SetSpritePatternTable(VDP_MC_ADDR_SPT);
      000051 21 00 38         [10]  597 	ld	hl, #0x3800
                                    598 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:212: }
      000054 C3rB7r02         [10]  599 	jp	_VDP_SetSpritePatternTable
                                    600 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:218: void VDP_SetModeGraphic1()
                                    601 ;	---------------------------------
                                    602 ; Function VDP_SetModeGraphic1
                                    603 ; ---------------------------------
      000057                        604 _VDP_SetModeGraphic1::
                                    605 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:220: VDP_SetModeFlag(VDP_G1_MODE);
      000057 AF               [ 4]  606 	xor	a, a
      000058 CDr00r00         [17]  607 	call	_VDP_SetModeFlag
                                    608 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:221: VDP_SetLayoutTable(VDP_G1_ADDR_NT);
      00005B 21 00 18         [10]  609 	ld	hl, #0x1800
      00005E CDr2Cr02         [17]  610 	call	_VDP_SetLayoutTable
                                    611 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:222: VDP_SetColorTable(VDP_G1_ADDR_CT);
      000061 21 00 20         [10]  612 	ld	hl, #0x2000
      000064 CDr3Cr02         [17]  613 	call	_VDP_SetColorTable
                                    614 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:223: VDP_SetPatternTable(VDP_G1_ADDR_PT);
      000067 21 00 00         [10]  615 	ld	hl, #0x0000
      00006A CDr69r02         [17]  616 	call	_VDP_SetPatternTable
                                    617 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:225: VDP_SetSpriteAttributeTable(VDP_G1_ADDR_SAT);
      00006D 21 00 1B         [10]  618 	ld	hl, #0x1b00
      000070 CDr86r02         [17]  619 	call	_VDP_SetSpriteAttributeTable
                                    620 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:226: VDP_SetSpritePatternTable(VDP_G1_ADDR_SPT);
      000073 21 00 38         [10]  621 	ld	hl, #0x3800
                                    622 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:228: }
      000076 C3rB7r02         [10]  623 	jp	_VDP_SetSpritePatternTable
                                    624 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:234: void VDP_SetModeGraphic2()
                                    625 ;	---------------------------------
                                    626 ; Function VDP_SetModeGraphic2
                                    627 ; ---------------------------------
      000079                        628 _VDP_SetModeGraphic2::
                                    629 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:236: VDP_SetModeFlag(VDP_G2_MODE);
      000079 3E 04            [ 7]  630 	ld	a, #0x04
      00007B CDr00r00         [17]  631 	call	_VDP_SetModeFlag
                                    632 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:237: VDP_SetLayoutTable(VDP_G2_ADDR_NT);
      00007E 21 00 18         [10]  633 	ld	hl, #0x1800
      000081 CDr2Cr02         [17]  634 	call	_VDP_SetLayoutTable
                                    635 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:238: VDP_SetColorTable(VDP_G2_ADDR_CT);
      000084 21 00 20         [10]  636 	ld	hl, #0x2000
      000087 CDr3Cr02         [17]  637 	call	_VDP_SetColorTable
                                    638 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:239: VDP_SetPatternTable(VDP_G2_ADDR_PT);
      00008A 21 00 00         [10]  639 	ld	hl, #0x0000
      00008D CDr69r02         [17]  640 	call	_VDP_SetPatternTable
                                    641 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:241: VDP_SetSpriteAttributeTable(VDP_G2_ADDR_SAT);
      000090 21 00 1B         [10]  642 	ld	hl, #0x1b00
      000093 CDr86r02         [17]  643 	call	_VDP_SetSpriteAttributeTable
                                    644 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:242: VDP_SetSpritePatternTable(VDP_G2_ADDR_SPT);
      000096 21 00 38         [10]  645 	ld	hl, #0x3800
                                    646 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:244: }
      000099 C3rB7r02         [10]  647 	jp	_VDP_SetSpritePatternTable
                                    648 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:255: void VDP_ClearVRAM()
                                    649 ;	---------------------------------
                                    650 ; Function VDP_ClearVRAM
                                    651 ; ---------------------------------
      00009C                        652 _VDP_ClearVRAM::
                                    653 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:258: VDP_FillVRAM_16K(0, 0x0000, 0x4000);  // Clear 16 KB of VRAM
      00009C 21 00 40         [10]  654 	ld	hl, #0x4000
      00009F E5               [11]  655 	push	hl
      0000A0 11 00 00         [10]  656 	ld	de, #0x0000
      0000A3 AF               [ 4]  657 	xor	a, a
      0000A4 CDrD9r00         [17]  658 	call	_VDP_FillVRAM_16K
                                    659 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:265: }
      0000A7 C9               [10]  660 	ret
                                    661 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:276: void VDP_WriteVRAM_16K(const u8* src, u16 dest, u16 count) __sdcccall(0)
                                    662 ;	---------------------------------
                                    663 ; Function VDP_WriteVRAM_16K
                                    664 ; ---------------------------------
      0000A8                        665 _VDP_WriteVRAM_16K::
                                    666 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:349: __endasm;
      0000A8 FD 21 02 00      [14]  667 	ld	iy, #2
      0000AC FD 39            [15]  668 	add	iy, sp
      0000AE FD 7E 02         [19]  669 	ld	a, 2(iy)
      0000B1 F3               [ 4]  670 	di
      0000B2 D3 99            [11]  671 	out	(0x99), a
      0000B4 FD 7E 03         [19]  672 	ld	a, 3(iy)
      0000B7 E6 3F            [ 7]  673 	and	a, #0x3F
      0000B9 C6 40            [ 7]  674 	add	a, #0x40
      0000BB FB               [ 4]  675 	ei
      0000BC D3 99            [11]  676 	out	(0x99), a
      0000BE FD 6E 00         [19]  677 	ld	l, 0(iy)
      0000C1 FD 66 01         [19]  678 	ld	h, 1(iy)
      0000C4 FD 5E 04         [19]  679 	ld	e, 4(iy)
      0000C7 FD 56 05         [19]  680 	ld	d, 5(iy)
      0000CA 0E 98            [ 7]  681 	ld	c, #0x98
      0000CC 43               [ 4]  682 	ld	b, e
      0000CD 1B               [ 6]  683 	dec	de
      0000CE 14               [ 4]  684 	inc	d
      0000CF                        685 	 wrt16_loop_start:
      0000CF ED A3            [16]  686 	outi
      0000D1 C2rCFr00         [10]  687 	jp	nz, wrt16_loop_start
      0000D4 15               [ 4]  688 	dec	d
      0000D5 C2rCFr00         [10]  689 	jp	nz, wrt16_loop_start
      0000D8                        690 	 wrt16_loop_end:
                                    691 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:350: }
      0000D8 C9               [10]  692 	ret
                                    693 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:359: void VDP_FillVRAM_16K(u8 value, u16 dest, u16 count) __naked // Stack: 4 bytes
                                    694 ;	---------------------------------
                                    695 ; Function VDP_FillVRAM_16K
                                    696 ; ---------------------------------
      0000D9                        697 _VDP_FillVRAM_16K::
                                    698 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:406: __endasm;
      0000D9 4F               [ 4]  699 	ld	c, a
      0000DA 7B               [ 4]  700 	ld	a, e
      0000DB F3               [ 4]  701 	di
      0000DC D3 99            [11]  702 	out	(0x99), a
      0000DE 7A               [ 4]  703 	ld	a, d
      0000DF E6 3F            [ 7]  704 	and	a, #0x3F
      0000E1 F6 40            [ 7]  705 	or	a, #0x40
      0000E3 D3 99            [11]  706 	out	(0x99), a
      0000E5 FD E1            [14]  707 	pop	iy
      0000E7 D1               [10]  708 	pop	de
      0000E8 79               [ 4]  709 	ld	a, c
      0000E9 43               [ 4]  710 	ld	b, e
      0000EA 1B               [ 6]  711 	dec	de
      0000EB 14               [ 4]  712 	inc	d
      0000EC                        713 	 fll16_loop_start:
      0000EC D3 98            [11]  714 	out	(0x98), a
      0000EE 10 FC            [13]  715 	djnz	fll16_loop_start
      0000F0 15               [ 4]  716 	dec	d
      0000F1 C2rECr00         [10]  717 	jp	nz, fll16_loop_start
      0000F4                        718 	 fll16_loop_end:
      0000F4 FB               [ 4]  719 	ei
      0000F5 FD E9            [ 8]  720 	jp	(iy)
                                    721 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:407: }
                                    722 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:520: void VDP_ReadVRAM_16K(u16 src, u8* dest, u16 count) __sdcccall(0)
                                    723 ;	---------------------------------
                                    724 ; Function VDP_ReadVRAM_16K
                                    725 ; ---------------------------------
      0000F7                        726 _VDP_ReadVRAM_16K::
                                    727 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:592: __endasm;
      0000F7 FD 21 02 00      [14]  728 	ld	iy, #2
      0000FB FD 39            [15]  729 	add	iy, sp
      0000FD FD 7E 00         [19]  730 	ld	a, 0(iy)
      000100 F3               [ 4]  731 	di
      000101 D3 99            [11]  732 	out	(0x99), a
      000103 FD 7E 01         [19]  733 	ld	a, 1(iy)
      000106 E6 3F            [ 7]  734 	and	a, #0x3F
      000108 FB               [ 4]  735 	ei
      000109 D3 99            [11]  736 	out	(0x99), a
      00010B FD 6E 02         [19]  737 	ld	l, 2(iy)
      00010E FD 66 03         [19]  738 	ld	h, 3(iy)
      000111 FD 5E 04         [19]  739 	ld	e, 4(iy)
      000114 FD 56 05         [19]  740 	ld	d, 5(iy)
      000117 0E 98            [ 7]  741 	ld	c, #0x98
      000119 43               [ 4]  742 	ld	b, e
      00011A 1B               [ 6]  743 	dec	de
      00011B 14               [ 4]  744 	inc	d
      00011C                        745 	 rd16_loop_start:
      00011C ED A2            [16]  746 	ini
      00011E C2r1Cr01         [10]  747 	jp	nz, rd16_loop_start
      000121 15               [ 4]  748 	dec	d
      000122 C2r1Cr01         [10]  749 	jp	nz, rd16_loop_start
      000125                        750 	 rd16_loop_end:
                                    751 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:593: }
      000125 C9               [10]  752 	ret
                                    753 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:603: u8 VDP_Peek_16K(u16 dest) __PRESERVES(b, c, d, e, iyl, iyh)
                                    754 ;	---------------------------------
                                    755 ; Function VDP_Peek_16K
                                    756 ; ---------------------------------
      000126                        757 _VDP_Peek_16K::
                                    758 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:638: __endasm;
      000126 7D               [ 4]  759 	ld	a, l
      000127 F3               [ 4]  760 	di
      000128 D3 99            [11]  761 	out	(0x99), a
      00012A 7C               [ 4]  762 	ld	a, h
      00012B E6 3F            [ 7]  763 	and	a, #0x3F
      00012D D3 99            [11]  764 	out	(0x99), a
      00012F 29               [11]  765 	add	hl, hl
      000130 FB               [ 4]  766 	ei
      000131 DB 98            [11]  767 	in	a, (0x98)
                                    768 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:639: }
      000133 C9               [10]  769 	ret
                                    770 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:647: void VDP_Poke_16K(u8 val, u16 dest) __PRESERVES(c, h, l, iyl, iyh)
                                    771 ;	---------------------------------
                                    772 ; Function VDP_Poke_16K
                                    773 ; ---------------------------------
      000134                        774 _VDP_Poke_16K::
                                    775 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:684: __endasm;
      000134 47               [ 4]  776 	ld	b, a
      000135 7B               [ 4]  777 	ld	a, e
      000136 F3               [ 4]  778 	di
      000137 D3 99            [11]  779 	out	(0x99), a
      000139 7A               [ 4]  780 	ld	a, d
      00013A E6 3F            [ 7]  781 	and	a, #0x3F
      00013C C6 40            [ 7]  782 	add	a, #0x40
      00013E D3 99            [11]  783 	out	(0x99), a
      000140 13               [ 6]  784 	inc	de
      000141 78               [ 4]  785 	ld	a, b
      000142 FB               [ 4]  786 	ei
      000143 D3 98            [11]  787 	out	(0x98), a
                                    788 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:685: }
      000145 C9               [10]  789 	ret
                                    790 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1484: void VDP_Initialize()
                                    791 ;	---------------------------------
                                    792 ; Function VDP_Initialize
                                    793 ; ---------------------------------
      000146                        794 _VDP_Initialize::
                                    795 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1492: __endasm;
      000146 21 DF F3         [10]  796 	ld	hl, #0xF3DF
      000149 11r00r00         [10]  797 	ld	de, #_g_VDP_REGSAV+0
      00014C 01 08 00         [10]  798 	ld	bc, #8
      00014F ED B0            [21]  799 	ldir
                                    800 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1515: g_VDPInitilized = TRUE;
      000151 21r00r00         [10]  801 	ld	hl, #_g_VDPInitilized
      000154 36 01            [10]  802 	ld	(hl), #0x01
                                    803 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1517: }
      000156 C9               [10]  804 	ret
                                    805 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1525: void VDP_SetMode(const u8 mode)
                                    806 ;	---------------------------------
                                    807 ; Function VDP_SetMode
                                    808 ; ---------------------------------
      000157                        809 _VDP_SetMode::
      000157 4F               [ 4]  810 	ld	c, a
                                    811 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1528: if(!g_VDPInitilized)
      000158 3Ar00r00         [13]  812 	ld	a, (_g_VDPInitilized+0)
      00015B B7               [ 4]  813 	or	a, a
      00015C 20 05            [12]  814 	jr	NZ, 00102$
                                    815 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1529: VDP_Initialize();
      00015E C5               [11]  816 	push	bc
      00015F CDr46r01         [17]  817 	call	_VDP_Initialize
      000162 C1               [10]  818 	pop	bc
      000163                        819 00102$:
                                    820 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1536: g_VDP_Data.Mode = mode;
      000163 21r1Cr00         [10]  821 	ld	hl, #_g_VDP_Data
                                    822 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1537: switch(mode)
      000166 79               [ 4]  823 	ld	a,c
      000167 77               [ 7]  824 	ld	(hl),a
      000168 B7               [ 4]  825 	or	a, a
      000169 28 0F            [12]  826 	jr	Z, 00103$
      00016B 79               [ 4]  827 	ld	a, c
      00016C 3D               [ 4]  828 	dec	a
      00016D 28 10            [12]  829 	jr	Z, 00104$
      00016F 79               [ 4]  830 	ld	a,c
      000170 FE 02            [ 7]  831 	cp	a,#0x02
      000172 28 10            [12]  832 	jr	Z, 00105$
      000174 D6 03            [ 7]  833 	sub	a, #0x03
      000176 28 11            [12]  834 	jr	Z, 00106$
      000178 18 12            [12]  835 	jr	00113$
                                    836 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1544: case VDP_MODE_TEXT1:		VDP_SetModeText1(); break;
      00017A                        837 00103$:
      00017A CDr29r00         [17]  838 	call	_VDP_SetModeText1
      00017D 18 0D            [12]  839 	jr	00113$
                                    840 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1549: case VDP_MODE_MULTICOLOR:	VDP_SetModeMultiColor(); break;
      00017F                        841 00104$:
      00017F CDr3Ar00         [17]  842 	call	_VDP_SetModeMultiColor
      000182 18 08            [12]  843 	jr	00113$
                                    844 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1554: case VDP_MODE_GRAPHIC1:		VDP_SetModeGraphic1(); break;
      000184                        845 00105$:
      000184 CDr57r00         [17]  846 	call	_VDP_SetModeGraphic1
      000187 18 03            [12]  847 	jr	00113$
                                    848 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1559: case VDP_MODE_GRAPHIC2:		VDP_SetModeGraphic2(); break;
      000189                        849 00106$:
      000189 CDr79r00         [17]  850 	call	_VDP_SetModeGraphic2
                                    851 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.h:629: inline void VDP_EnableDisplay(bool enable) { VDP_RegWriteBakMask(1, (u8)~R01_BL, enable ? R01_BL : 0); }
      00018C                        852 00113$:
      00018C 3E 40            [ 7]  853 	ld	a, #0x40
      00018E F5               [11]  854 	push	af
      00018F 33               [ 6]  855 	inc	sp
      000190 2E BF            [ 7]  856 	ld	l, #0xbf
                                    857 ;	spillPairReg hl
                                    858 ;	spillPairReg hl
      000192 3E 01            [ 7]  859 	ld	a, #0x01
      000194 CDr0Ar02         [17]  860 	call	_VDP_RegWriteBakMask
                                    861 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.h:636: inline void VDP_EnableVBlank(bool enable) { VDP_RegWriteBakMask(1, (u8)~R01_IE0, enable ? R01_IE0 : 0); }
      000197 3E 20            [ 7]  862 	ld	a, #0x20
      000199 F5               [11]  863 	push	af
      00019A 33               [ 6]  864 	inc	sp
      00019B 2E DF            [ 7]  865 	ld	l, #0xdf
                                    866 ;	spillPairReg hl
                                    867 ;	spillPairReg hl
      00019D 3E 01            [ 7]  868 	ld	a, #0x01
      00019F CDr0Ar02         [17]  869 	call	_VDP_RegWriteBakMask
                                    870 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1636: VDP_EnableVBlank(TRUE);
                                    871 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1659: }
      0001A2 C9               [10]  872 	ret
                                    873 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1665: u8 VDP_GetVersion() __naked
                                    874 ;	---------------------------------
                                    875 ; Function VDP_GetVersion
                                    876 ; ---------------------------------
      0001A3                        877 _VDP_GetVersion::
                                    878 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1729: __endasm;
      0001A3                        879 	 VDP_GetVersionAsm:
      0001A3 CDrC2r01         [17]  880 	call	VDP_IsTMS9918A
      0001A6 C8               [11]  881 	ret	z
      0001A7 3E 01            [ 7]  882 	ld	a, #1
      0001A9 F3               [ 4]  883 	di
      0001AA D3 99            [11]  884 	out	(0x99), a
      0001AC 3E 8F            [ 7]  885 	ld	a, #(0x80 | 15)
      0001AE D3 99            [11]  886 	out	(0x99), a
      0001B0 DB 99            [11]  887 	in	a, (0x99)
      0001B2 E6 3E            [ 7]  888 	and	#0b00111110
      0001B4 0F               [ 4]  889 	rrca
      0001B5 08               [ 4]  890 	ex	af, af'					; '
      0001B6 AF               [ 4]  891 	xor	a
      0001B7 D3 99            [11]  892 	out	(0x99), a
      0001B9 3E 8F            [ 7]  893 	ld	a, #(0x80 | 15)
      0001BB FB               [ 4]  894 	ei
      0001BC D3 99            [11]  895 	out	(0x99), a
      0001BE 08               [ 4]  896 	ex	af, af'					; '
      0001BF C0               [11]  897 	ret	nz
      0001C0 3C               [ 4]  898 	inc	a
      0001C1 C9               [10]  899 	ret
      0001C2                        900 	 VDP_IsTMS9918A:
      0001C2 DB 99            [11]  901 	in	a, (0x99)
      0001C4 F3               [ 4]  902 	di
      0001C5                        903 	 VDP_IsTMS9918A_Wait:
      0001C5 DB 99            [11]  904 	in	a,(0x99)
      0001C7 A7               [ 4]  905 	and	a
      0001C8 F2rC5r01         [10]  906 	jp	p, VDP_IsTMS9918A_Wait
      0001CB 3E 02            [ 7]  907 	ld	a, #2
      0001CD D3 99            [11]  908 	out	(0x99), a
      0001CF 3E 8F            [ 7]  909 	ld	a, #(0x80 | 15)
      0001D1 D3 99            [11]  910 	out	(0x99), a
      0001D3 DB 99            [11]  911 	in	a, (0x99)
      0001D5 08               [ 4]  912 	ex	af, af'					; '
      0001D6 AF               [ 4]  913 	xor	a
      0001D7 D3 99            [11]  914 	out	(0x99), a
      0001D9 3E 8F            [ 7]  915 	ld	a, #(0x80 | 15)
      0001DB D3 99            [11]  916 	out	(0x99), a
      0001DD 3A E6 F3         [13]  917 	ld	a, (0xF3E6)
      0001E0 D3 99            [11]  918 	out	(0x99), a
      0001E2 3E 87            [ 7]  919 	ld	a, #(0x80 | 7)
      0001E4 FB               [ 4]  920 	ei
      0001E5 D3 99            [11]  921 	out	(0x99), a
      0001E7 08               [ 4]  922 	ex	af, af'					; '
      0001E8 E6 40            [ 7]  923 	and	#0b01000000
      0001EA C9               [10]  924 	ret
                                    925 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1730: }
                                    926 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1738: void VDP_RegWrite(u8 reg, u8 value) __PRESERVES(b, c, d, e, iyl, iyh)
                                    927 ;	---------------------------------
                                    928 ; Function VDP_RegWrite
                                    929 ; ---------------------------------
      0001EB                        930 _VDP_RegWrite::
                                    931 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1752: __endasm;
      0001EB 67               [ 4]  932 	ld	h, a
      0001EC 7D               [ 4]  933 	ld	a, l
      0001ED F3               [ 4]  934 	di
      0001EE D3 99            [11]  935 	out	(0x99), a
      0001F0 7C               [ 4]  936 	ld	a, h
      0001F1 C6 80            [ 7]  937 	add	#0x80
      0001F3 FB               [ 4]  938 	ei
      0001F4 D3 99            [11]  939 	out	(0x99), a
                                    940 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1753: }
      0001F6 C9               [10]  941 	ret
                                    942 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1761: void VDP_RegWriteBak(u8 reg, u8 value) __PRESERVES(d, e, iyl, iyh)
                                    943 ;	---------------------------------
                                    944 ; Function VDP_RegWriteBak
                                    945 ; ---------------------------------
      0001F7                        946 _VDP_RegWriteBak::
                                    947 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1781: __endasm;
      0001F7 4F               [ 4]  948 	ld	c, a
      0001F8 7D               [ 4]  949 	ld	a, l
      0001F9 06 00            [ 7]  950 	ld	b, #0
      0001FB 21r00r00         [10]  951 	ld	hl, #_g_VDP_REGSAV
      0001FE 09               [11]  952 	add	hl, bc
      0001FF 77               [ 7]  953 	ld	(hl), a
      000200 F3               [ 4]  954 	di
      000201 D3 99            [11]  955 	out	(0x99), a
      000203 79               [ 4]  956 	ld	a, c
      000204 C6 80            [ 7]  957 	add	#0x80
      000206 FB               [ 4]  958 	ei
      000207 D3 99            [11]  959 	out	(0x99), a
                                    960 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1782: }
      000209 C9               [10]  961 	ret
                                    962 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1791: void VDP_RegWriteBakMask(u8 reg, u8 mask, u8 flag)
                                    963 ;	---------------------------------
                                    964 ; Function VDP_RegWriteBakMask
                                    965 ; ---------------------------------
      00020A                        966 _VDP_RegWriteBakMask::
      00020A DD E5            [15]  967 	push	ix
      00020C DD 21 00 00      [14]  968 	ld	ix,#0
      000210 DD 39            [15]  969 	add	ix,sp
      000212 4F               [ 4]  970 	ld	c, a
      000213 5D               [ 4]  971 	ld	e, l
                                    972 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1793: u8 value = g_VDP_REGSAV[reg];
      000214 21r00r00         [10]  973 	ld	hl, #_g_VDP_REGSAV+0
      000217 06 00            [ 7]  974 	ld	b, #0x00
      000219 09               [11]  975 	add	hl, bc
      00021A 7E               [ 7]  976 	ld	a, (hl)
                                    977 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1794: value &= mask;
      00021B A3               [ 4]  978 	and	a, e
                                    979 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1795: value |= flag;
      00021C DD B6 04         [19]  980 	or	a, 4 (ix)
      00021F 6F               [ 4]  981 	ld	l, a
                                    982 ;	spillPairReg hl
                                    983 ;	spillPairReg hl
                                    984 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1796: VDP_RegWriteBak(reg, value);
      000220 79               [ 4]  985 	ld	a, c
      000221 CDrF7r01         [17]  986 	call	_VDP_RegWriteBak
                                    987 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1797: }
      000224 DD E1            [14]  988 	pop	ix
      000226 E1               [10]  989 	pop	hl
      000227 33               [ 6]  990 	inc	sp
      000228 E9               [ 4]  991 	jp	(hl)
                                    992 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1823: u8 VDP_ReadDefaultStatus() __PRESERVES(b, c, d, e, h, l, iyl, iyh)
                                    993 ;	---------------------------------
                                    994 ; Function VDP_ReadDefaultStatus
                                    995 ; ---------------------------------
      000229                        996 _VDP_ReadDefaultStatus::
                                    997 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1827: __endasm;
      000229 DB 99            [11]  998 	in	a, (0x99)
                                    999 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1828: }
      00022B C9               [10] 1000 	ret
                                   1001 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1845: void VDP_SetLayoutTable(VADDR addr)
                                   1002 ;	---------------------------------
                                   1003 ; Function VDP_SetLayoutTable
                                   1004 ; ---------------------------------
      00022C                       1005 _VDP_SetLayoutTable::
                                   1006 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1847: g_ScreenLayoutLow = (u16)addr;
      00022C 22r31r00         [16] 1007 	ld	(_g_ScreenLayoutLow), hl
                                   1008 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1850: reg = (u8)(addr >> 10);
      00022F 7C               [ 4] 1009 	ld	a, h
      000230 0F               [ 4] 1010 	rrca
      000231 0F               [ 4] 1011 	rrca
      000232 E6 3F            [ 7] 1012 	and	a, #0x3f
      000234 6F               [ 4] 1013 	ld	l, a
                                   1014 ;	spillPairReg hl
                                   1015 ;	spillPairReg hl
      000235 26 00            [ 7] 1016 	ld	h, #0x00
                                   1017 ;	spillPairReg hl
                                   1018 ;	spillPairReg hl
                                   1019 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1871: VDP_RegWrite(2, reg);
      000237 3E 02            [ 7] 1020 	ld	a, #0x02
                                   1021 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1876: }
      000239 C3rEBr01         [10] 1022 	jp	_VDP_RegWrite
                                   1023 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1880: void VDP_SetColorTable(VADDR addr)
                                   1024 ;	---------------------------------
                                   1025 ; Function VDP_SetColorTable
                                   1026 ; ---------------------------------
      00023C                       1027 _VDP_SetColorTable::
                                   1028 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1882: g_ScreenColorLow = (u16)addr;
      00023C 22r33r00         [16] 1029 	ld	(_g_ScreenColorLow), hl
                                   1030 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1885: reg = (u8)(addr >> 6);
      00023F CB 3C            [ 8] 1031 	srl	h
      000241 CB 1D            [ 8] 1032 	rr	l
      000243 CB 3C            [ 8] 1033 	srl	h
      000245 CB 1D            [ 8] 1034 	rr	l
      000247 CB 3C            [ 8] 1035 	srl	h
      000249 CB 1D            [ 8] 1036 	rr	l
      00024B CB 3C            [ 8] 1037 	srl	h
      00024D CB 1D            [ 8] 1038 	rr	l
      00024F CB 3C            [ 8] 1039 	srl	h
      000251 CB 1D            [ 8] 1040 	rr	l
      000253 CB 3C            [ 8] 1041 	srl	h
      000255 CB 1D            [ 8] 1042 	rr	l
      000257 4D               [ 4] 1043 	ld	c, l
                                   1044 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1887: switch(g_VDP_Data.Mode)
      000258 3Ar1Cr00         [13] 1045 	ld	a, (#_g_VDP_Data + 0)
      00025B D6 03            [ 7] 1046 	sub	a, #0x03
      00025D 20 04            [12] 1047 	jr	NZ, 00102$
                                   1048 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1896: reg |= 0b1111111;
      00025F 79               [ 4] 1049 	ld	a, c
      000260 F6 7F            [ 7] 1050 	or	a, #0x7f
      000262 4F               [ 4] 1051 	ld	c, a
                                   1052 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1898: };	
      000263                       1053 00102$:
                                   1054 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1900: VDP_RegWrite(3, reg);
      000263 69               [ 4] 1055 	ld	l, c
                                   1056 ;	spillPairReg hl
                                   1057 ;	spillPairReg hl
      000264 3E 03            [ 7] 1058 	ld	a, #0x03
                                   1059 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1908: }
      000266 C3rEBr01         [10] 1060 	jp	_VDP_RegWrite
                                   1061 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1912: void VDP_SetPatternTable(VADDR addr)
                                   1062 ;	---------------------------------
                                   1063 ; Function VDP_SetPatternTable
                                   1064 ; ---------------------------------
      000269                       1065 _VDP_SetPatternTable::
                                   1066 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1914: g_ScreenPatternLow = (u16)addr;
      000269 22r35r00         [16] 1067 	ld	(_g_ScreenPatternLow), hl
                                   1068 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1917: reg = (u8)(addr >> 11);
      00026C 7C               [ 4] 1069 	ld	a, h
      00026D 0F               [ 4] 1070 	rrca
      00026E 0F               [ 4] 1071 	rrca
      00026F 0F               [ 4] 1072 	rrca
      000270 E6 1F            [ 7] 1073 	and	a, #0x1f
      000272 4F               [ 4] 1074 	ld	c, a
      000273 06 00            [ 7] 1075 	ld	b, #0x00
                                   1076 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1919: switch(g_VDP_Data.Mode)
      000275 3Ar1Cr00         [13] 1077 	ld	a, (#_g_VDP_Data + 0)
      000278 D6 03            [ 7] 1078 	sub	a, #0x03
      00027A 20 04            [12] 1079 	jr	NZ, 00102$
                                   1080 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1925: reg |= 0b11;
      00027C 79               [ 4] 1081 	ld	a, c
      00027D F6 03            [ 7] 1082 	or	a, #0x03
      00027F 4F               [ 4] 1083 	ld	c, a
                                   1084 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1926: };
      000280                       1085 00102$:
                                   1086 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1928: VDP_RegWrite(4, reg);
      000280 69               [ 4] 1087 	ld	l, c
                                   1088 ;	spillPairReg hl
                                   1089 ;	spillPairReg hl
      000281 3E 04            [ 7] 1090 	ld	a, #0x04
                                   1091 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1933: }
      000283 C3rEBr01         [10] 1092 	jp	_VDP_RegWrite
                                   1093 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1947: void VDP_SetSpriteAttributeTable(VADDR addr)
                                   1094 ;	---------------------------------
                                   1095 ; Function VDP_SetSpriteAttributeTable
                                   1096 ; ---------------------------------
      000286                       1097 _VDP_SetSpriteAttributeTable::
      000286 EB               [ 4] 1098 	ex	de, hl
                                   1099 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1949: g_SpriteAttributeLow = (u16)addr;
      000287 ED 53r37r00      [20] 1100 	ld	(_g_SpriteAttributeLow), de
                                   1101 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1952: reg = (u8)(addr >> 7);
      00028B 6B               [ 4] 1102 	ld	l, e
                                   1103 ;	spillPairReg hl
                                   1104 ;	spillPairReg hl
      00028C 4A               [ 4] 1105 	ld	c, d
      00028D CB 39            [ 8] 1106 	srl	c
      00028F CB 1D            [ 8] 1107 	rr	l
      000291 CB 39            [ 8] 1108 	srl	c
      000293 CB 1D            [ 8] 1109 	rr	l
      000295 CB 39            [ 8] 1110 	srl	c
      000297 CB 1D            [ 8] 1111 	rr	l
      000299 CB 39            [ 8] 1112 	srl	c
      00029B CB 1D            [ 8] 1113 	rr	l
      00029D CB 39            [ 8] 1114 	srl	c
      00029F CB 1D            [ 8] 1115 	rr	l
      0002A1 CB 39            [ 8] 1116 	srl	c
      0002A3 CB 1D            [ 8] 1117 	rr	l
      0002A5 CB 39            [ 8] 1118 	srl	c
      0002A7 CB 1D            [ 8] 1119 	rr	l
                                   1120 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1970: VDP_RegWrite(5, reg);
      0002A9 3E 05            [ 7] 1121 	ld	a, #0x05
      0002AB CDrEBr01         [17] 1122 	call	_VDP_RegWrite
                                   1123 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1979: addr -= 0x200;
                                   1124 ;	spillPairReg hl
                                   1125 ;	spillPairReg hl
      0002AE 6B               [ 4] 1126 	ld	l, e
      0002AF 7A               [ 4] 1127 	ld	a,d
      0002B0 C6 FE            [ 7] 1128 	add	a,#0xfe
      0002B2 67               [ 4] 1129 	ld	h, a
                                   1130 ;	spillPairReg hl
                                   1131 ;	spillPairReg hl
      0002B3 22r3Br00         [16] 1132 	ld	(_g_SpriteColorLow), hl
                                   1133 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1980: g_SpriteColorLow = (u16)addr;
                                   1134 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1984: }
      0002B6 C9               [10] 1135 	ret
                                   1136 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1990: void VDP_SetSpritePatternTable(VADDR addr)
                                   1137 ;	---------------------------------
                                   1138 ; Function VDP_SetSpritePatternTable
                                   1139 ; ---------------------------------
      0002B7                       1140 _VDP_SetSpritePatternTable::
                                   1141 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1992: g_SpritePatternLow  = (u16)addr;
      0002B7 22r39r00         [16] 1142 	ld	(_g_SpritePatternLow), hl
                                   1143 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1997: u8 reg = (u8)(addr >> 11);
      0002BA 7C               [ 4] 1144 	ld	a, h
      0002BB 0F               [ 4] 1145 	rrca
      0002BC 0F               [ 4] 1146 	rrca
      0002BD 0F               [ 4] 1147 	rrca
      0002BE E6 1F            [ 7] 1148 	and	a, #0x1f
      0002C0 6F               [ 4] 1149 	ld	l, a
                                   1150 ;	spillPairReg hl
                                   1151 ;	spillPairReg hl
      0002C1 26 00            [ 7] 1152 	ld	h, #0x00
                                   1153 ;	spillPairReg hl
                                   1154 ;	spillPairReg hl
                                   1155 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:1998: VDP_RegWrite(6, reg);
      0002C3 3E 06            [ 7] 1156 	ld	a, #0x06
                                   1157 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2000: }
      0002C5 C3rEBr01         [10] 1158 	jp	_VDP_RegWrite
                                   1159 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2004: void VDP_LoadSpritePattern(const u8* addr, u8 index, u8 count)
                                   1160 ;	---------------------------------
                                   1161 ; Function VDP_LoadSpritePattern
                                   1162 ; ---------------------------------
      0002C8                       1163 _VDP_LoadSpritePattern::
      0002C8 DD E5            [15] 1164 	push	ix
      0002CA DD 21 00 00      [14] 1165 	ld	ix,#0
      0002CE DD 39            [15] 1166 	add	ix,sp
      0002D0 4D               [ 4] 1167 	ld	c, l
      0002D1 44               [ 4] 1168 	ld	b, h
                                   1169 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2006: u16 low = g_SpritePatternLow;
      0002D2 ED 5Br39r00      [20] 1170 	ld	de, (_g_SpritePatternLow)
                                   1171 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2007: low += (index * 8);
      0002D6 DD 6E 04         [19] 1172 	ld	l, 4 (ix)
                                   1173 ;	spillPairReg hl
                                   1174 ;	spillPairReg hl
      0002D9 26 00            [ 7] 1175 	ld	h, #0x00
                                   1176 ;	spillPairReg hl
                                   1177 ;	spillPairReg hl
      0002DB 29               [11] 1178 	add	hl, hl
      0002DC 29               [11] 1179 	add	hl, hl
      0002DD 29               [11] 1180 	add	hl, hl
      0002DE 19               [11] 1181 	add	hl, de
      0002DF EB               [ 4] 1182 	ex	de, hl
                                   1183 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2008: VDP_WriteVRAM(addr, low, g_SpritePatternHigh, count * 8);
      0002E0 DD 6E 05         [19] 1184 	ld	l, 5 (ix)
                                   1185 ;	spillPairReg hl
                                   1186 ;	spillPairReg hl
      0002E3 26 00            [ 7] 1187 	ld	h, #0x00
                                   1188 ;	spillPairReg hl
                                   1189 ;	spillPairReg hl
      0002E5 29               [11] 1190 	add	hl, hl
      0002E6 29               [11] 1191 	add	hl, hl
      0002E7 29               [11] 1192 	add	hl, hl
      0002E8 E5               [11] 1193 	push	hl
      0002E9 D5               [11] 1194 	push	de
      0002EA C5               [11] 1195 	push	bc
      0002EB CDrA8r00         [17] 1196 	call	_VDP_WriteVRAM_16K
      0002EE F1               [10] 1197 	pop	af
      0002EF F1               [10] 1198 	pop	af
      0002F0 F1               [10] 1199 	pop	af
                                   1200 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2009: }
      0002F1 DD E1            [14] 1201 	pop	ix
      0002F3 E1               [10] 1202 	pop	hl
      0002F4 F1               [10] 1203 	pop	af
      0002F5 E9               [ 4] 1204 	jp	(hl)
                                   1205 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2013: void VDP_SetSpriteSM1(u8 index, u8 x, u8 y, u8 shape, u8 color)
                                   1206 ;	---------------------------------
                                   1207 ; Function VDP_SetSpriteSM1
                                   1208 ; ---------------------------------
      0002F6                       1209 _VDP_SetSpriteSM1::
      0002F6 DD E5            [15] 1210 	push	ix
      0002F8 DD 21 00 00      [14] 1211 	ld	ix,#0
      0002FC DD 39            [15] 1212 	add	ix,sp
      0002FE 5F               [ 4] 1213 	ld	e, a
      0002FF 4D               [ 4] 1214 	ld	c, l
                                   1215 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2015: g_VDP_Sprite.Y = y;				// Y coordinate on screen (all lower priority sprite will be disable if equal to 216 or 0xD0)
      000300 21r2Dr00         [10] 1216 	ld	hl, #_g_VDP_Sprite
      000303 DD 7E 04         [19] 1217 	ld	a, 4 (ix)
      000306 77               [ 7] 1218 	ld	(hl), a
                                   1219 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2016: g_VDP_Sprite.X = x;				// X coordinate of the sprite
      000307 21r2Er00         [10] 1220 	ld	hl, #(_g_VDP_Sprite + 1)
      00030A 71               [ 7] 1221 	ld	(hl), c
                                   1222 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2017: g_VDP_Sprite.Pattern = shape;	// Pattern index
      00030B 21r2Fr00         [10] 1223 	ld	hl, #(_g_VDP_Sprite + 2)
      00030E DD 7E 05         [19] 1224 	ld	a, 5 (ix)
      000311 77               [ 7] 1225 	ld	(hl), a
                                   1226 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2018: g_VDP_Sprite.Color = color;		// Color index (Sprite Mode 1 only) + Early clock
      000312 21r30r00         [10] 1227 	ld	hl, #(_g_VDP_Sprite + 3)
      000315 DD 7E 06         [19] 1228 	ld	a, 6 (ix)
      000318 77               [ 7] 1229 	ld	(hl), a
                                   1230 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2020: u16 low = g_SpriteAttributeLow;
      000319 ED 4Br37r00      [20] 1231 	ld	bc, (_g_SpriteAttributeLow)
                                   1232 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2021: low += (index * 4);
      00031D 6B               [ 4] 1233 	ld	l, e
                                   1234 ;	spillPairReg hl
                                   1235 ;	spillPairReg hl
      00031E 26 00            [ 7] 1236 	ld	h, #0x00
                                   1237 ;	spillPairReg hl
                                   1238 ;	spillPairReg hl
      000320 29               [11] 1239 	add	hl, hl
      000321 29               [11] 1240 	add	hl, hl
      000322 09               [11] 1241 	add	hl, bc
                                   1242 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2022: VDP_WriteVRAM((u8*)&g_VDP_Sprite, low, g_SpriteAtributeHigh, 4);
      000323 11 04 00         [10] 1243 	ld	de, #0x0004
      000326 D5               [11] 1244 	push	de
      000327 E5               [11] 1245 	push	hl
      000328 21r2Dr00         [10] 1246 	ld	hl, #_g_VDP_Sprite
      00032B E5               [11] 1247 	push	hl
      00032C CDrA8r00         [17] 1248 	call	_VDP_WriteVRAM_16K
      00032F F1               [10] 1249 	pop	af
      000330 F1               [10] 1250 	pop	af
      000331 F1               [10] 1251 	pop	af
                                   1252 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2023: }
      000332 DD E1            [14] 1253 	pop	ix
      000334 E1               [10] 1254 	pop	hl
      000335 F1               [10] 1255 	pop	af
      000336 33               [ 6] 1256 	inc	sp
      000337 E9               [ 4] 1257 	jp	(hl)
                                   1258 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2027: void VDP_SetSprite(u8 index, u8 x, u8 y, u8 shape)
                                   1259 ;	---------------------------------
                                   1260 ; Function VDP_SetSprite
                                   1261 ; ---------------------------------
      000338                       1262 _VDP_SetSprite::
      000338 DD E5            [15] 1263 	push	ix
      00033A DD 21 00 00      [14] 1264 	ld	ix,#0
      00033E DD 39            [15] 1265 	add	ix,sp
      000340 5F               [ 4] 1266 	ld	e, a
      000341 4D               [ 4] 1267 	ld	c, l
                                   1268 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2029: g_VDP_Sprite.Y = y;				// Y coordinate on screen (all lower priority sprite will be disable if equal to 216 or 0xD0)
      000342 21r2Dr00         [10] 1269 	ld	hl, #_g_VDP_Sprite
      000345 DD 7E 04         [19] 1270 	ld	a, 4 (ix)
      000348 77               [ 7] 1271 	ld	(hl), a
                                   1272 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2030: g_VDP_Sprite.X = x;				// X coordinate of the sprite
      000349 21r2Er00         [10] 1273 	ld	hl, #(_g_VDP_Sprite + 1)
      00034C 71               [ 7] 1274 	ld	(hl), c
                                   1275 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2031: g_VDP_Sprite.Pattern = shape;	// Pattern index
      00034D 21r2Fr00         [10] 1276 	ld	hl, #(_g_VDP_Sprite + 2)
      000350 DD 7E 05         [19] 1277 	ld	a, 5 (ix)
      000353 77               [ 7] 1278 	ld	(hl), a
                                   1279 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2033: u16 low = g_SpriteAttributeLow;
      000354 ED 4Br37r00      [20] 1280 	ld	bc, (_g_SpriteAttributeLow)
                                   1281 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2034: low += (index * 4);
      000358 6B               [ 4] 1282 	ld	l, e
                                   1283 ;	spillPairReg hl
                                   1284 ;	spillPairReg hl
      000359 26 00            [ 7] 1285 	ld	h, #0x00
                                   1286 ;	spillPairReg hl
                                   1287 ;	spillPairReg hl
      00035B 29               [11] 1288 	add	hl, hl
      00035C 29               [11] 1289 	add	hl, hl
      00035D 09               [11] 1290 	add	hl, bc
                                   1291 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2035: VDP_WriteVRAM((u8*)&g_VDP_Sprite, low, g_SpriteAtributeHigh, 3);
      00035E 11 03 00         [10] 1292 	ld	de, #0x0003
      000361 D5               [11] 1293 	push	de
      000362 E5               [11] 1294 	push	hl
      000363 21r2Dr00         [10] 1295 	ld	hl, #_g_VDP_Sprite
      000366 E5               [11] 1296 	push	hl
      000367 CDrA8r00         [17] 1297 	call	_VDP_WriteVRAM_16K
      00036A F1               [10] 1298 	pop	af
      00036B F1               [10] 1299 	pop	af
      00036C F1               [10] 1300 	pop	af
                                   1301 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2036: }
      00036D DD E1            [14] 1302 	pop	ix
      00036F E1               [10] 1303 	pop	hl
      000370 F1               [10] 1304 	pop	af
      000371 E9               [ 4] 1305 	jp	(hl)
                                   1306 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2074: void VDP_SetSpritePosition(u8 index, u8 x, u8 y)
                                   1307 ;	---------------------------------
                                   1308 ; Function VDP_SetSpritePosition
                                   1309 ; ---------------------------------
      000372                       1310 _VDP_SetSpritePosition::
      000372 DD E5            [15] 1311 	push	ix
      000374 DD 21 00 00      [14] 1312 	ld	ix,#0
      000378 DD 39            [15] 1313 	add	ix,sp
      00037A 5F               [ 4] 1314 	ld	e, a
      00037B 4D               [ 4] 1315 	ld	c, l
                                   1316 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2076: g_VDP_Sprite.Y = y;				// Y coordinate on screen (all lower priority sprite will be disable if equal to 216 or 0xD0)
      00037C 21r2Dr00         [10] 1317 	ld	hl, #_g_VDP_Sprite
      00037F DD 7E 04         [19] 1318 	ld	a, 4 (ix)
      000382 77               [ 7] 1319 	ld	(hl), a
                                   1320 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2077: g_VDP_Sprite.X = x;				// X coordinate of the sprite
      000383 21r2Er00         [10] 1321 	ld	hl, #(_g_VDP_Sprite + 1)
      000386 71               [ 7] 1322 	ld	(hl), c
                                   1323 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2079: u16 low = g_SpriteAttributeLow;
      000387 ED 4Br37r00      [20] 1324 	ld	bc, (_g_SpriteAttributeLow)
                                   1325 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2080: low += (index * 4);
      00038B 6B               [ 4] 1326 	ld	l, e
                                   1327 ;	spillPairReg hl
                                   1328 ;	spillPairReg hl
      00038C 26 00            [ 7] 1329 	ld	h, #0x00
                                   1330 ;	spillPairReg hl
                                   1331 ;	spillPairReg hl
      00038E 29               [11] 1332 	add	hl, hl
      00038F 29               [11] 1333 	add	hl, hl
      000390 09               [11] 1334 	add	hl, bc
                                   1335 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2081: VDP_WriteVRAM((u8*)&g_VDP_Sprite, low, g_SpriteAtributeHigh, 2);
      000391 11 02 00         [10] 1336 	ld	de, #0x0002
      000394 D5               [11] 1337 	push	de
      000395 E5               [11] 1338 	push	hl
      000396 21r2Dr00         [10] 1339 	ld	hl, #_g_VDP_Sprite
      000399 E5               [11] 1340 	push	hl
      00039A CDrA8r00         [17] 1341 	call	_VDP_WriteVRAM_16K
      00039D F1               [10] 1342 	pop	af
      00039E F1               [10] 1343 	pop	af
      00039F F1               [10] 1344 	pop	af
                                   1345 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2082: }
      0003A0 DD E1            [14] 1346 	pop	ix
      0003A2 E1               [10] 1347 	pop	hl
      0003A3 33               [ 6] 1348 	inc	sp
      0003A4 E9               [ 4] 1349 	jp	(hl)
                                   1350 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2086: void VDP_SetSpritePositionX(u8 index, u8 x)
                                   1351 ;	---------------------------------
                                   1352 ; Function VDP_SetSpritePositionX
                                   1353 ; ---------------------------------
      0003A5                       1354 _VDP_SetSpritePositionX::
      0003A5 47               [ 4] 1355 	ld	b, a
      0003A6 4D               [ 4] 1356 	ld	c, l
                                   1357 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2088: u16 low = g_SpriteAttributeLow;
      0003A7 ED 5Br37r00      [20] 1358 	ld	de, (_g_SpriteAttributeLow)
                                   1359 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2089: low += (index * 4);
      0003AB 68               [ 4] 1360 	ld	l, b
                                   1361 ;	spillPairReg hl
                                   1362 ;	spillPairReg hl
      0003AC 26 00            [ 7] 1363 	ld	h, #0x00
                                   1364 ;	spillPairReg hl
                                   1365 ;	spillPairReg hl
      0003AE 29               [11] 1366 	add	hl, hl
      0003AF 29               [11] 1367 	add	hl, hl
      0003B0 19               [11] 1368 	add	hl, de
      0003B1 EB               [ 4] 1369 	ex	de, hl
                                   1370 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2090: VDP_Poke(x, ++low, g_SpriteAtributeHigh);
      0003B2 13               [ 6] 1371 	inc	de
      0003B3 79               [ 4] 1372 	ld	a, c
                                   1373 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2091: }
      0003B4 C3r34r01         [10] 1374 	jp	_VDP_Poke_16K
                                   1375 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2095: void VDP_SetSpritePositionY(u8 index, u8 y)
                                   1376 ;	---------------------------------
                                   1377 ; Function VDP_SetSpritePositionY
                                   1378 ; ---------------------------------
      0003B7                       1379 _VDP_SetSpritePositionY::
      0003B7 47               [ 4] 1380 	ld	b, a
      0003B8 4D               [ 4] 1381 	ld	c, l
                                   1382 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2097: u16 low = g_SpriteAttributeLow;
      0003B9 ED 5Br37r00      [20] 1383 	ld	de, (_g_SpriteAttributeLow)
                                   1384 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2098: low += (index * 4);
      0003BD 68               [ 4] 1385 	ld	l, b
                                   1386 ;	spillPairReg hl
                                   1387 ;	spillPairReg hl
      0003BE 26 00            [ 7] 1388 	ld	h, #0x00
                                   1389 ;	spillPairReg hl
                                   1390 ;	spillPairReg hl
      0003C0 29               [11] 1391 	add	hl, hl
      0003C1 29               [11] 1392 	add	hl, hl
      0003C2 19               [11] 1393 	add	hl, de
      0003C3 EB               [ 4] 1394 	ex	de, hl
                                   1395 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2099: VDP_Poke(y, low, g_SpriteAtributeHigh);
      0003C4 79               [ 4] 1396 	ld	a, c
                                   1397 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2100: }
      0003C5 C3r34r01         [10] 1398 	jp	_VDP_Poke_16K
                                   1399 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2104: void VDP_SetSpritePattern(u8 index, u8 shape)
                                   1400 ;	---------------------------------
                                   1401 ; Function VDP_SetSpritePattern
                                   1402 ; ---------------------------------
      0003C8                       1403 _VDP_SetSpritePattern::
      0003C8 47               [ 4] 1404 	ld	b, a
      0003C9 4D               [ 4] 1405 	ld	c, l
                                   1406 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2106: u16 low = g_SpriteAttributeLow + 2;
      0003CA ED 5Br37r00      [20] 1407 	ld	de, (_g_SpriteAttributeLow)
      0003CE 13               [ 6] 1408 	inc	de
      0003CF 13               [ 6] 1409 	inc	de
                                   1410 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2107: low += (index * 4);
      0003D0 68               [ 4] 1411 	ld	l, b
                                   1412 ;	spillPairReg hl
                                   1413 ;	spillPairReg hl
      0003D1 26 00            [ 7] 1414 	ld	h, #0x00
                                   1415 ;	spillPairReg hl
                                   1416 ;	spillPairReg hl
      0003D3 29               [11] 1417 	add	hl, hl
      0003D4 29               [11] 1418 	add	hl, hl
      0003D5 19               [11] 1419 	add	hl, de
      0003D6 EB               [ 4] 1420 	ex	de, hl
                                   1421 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2108: VDP_Poke(shape, low, g_SpriteAtributeHigh);
      0003D7 79               [ 4] 1422 	ld	a, c
                                   1423 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2109: }
      0003D8 C3r34r01         [10] 1424 	jp	_VDP_Poke_16K
                                   1425 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2113: void VDP_SetSpriteColorSM1(u8 index, u8 color)
                                   1426 ;	---------------------------------
                                   1427 ; Function VDP_SetSpriteColorSM1
                                   1428 ; ---------------------------------
      0003DB                       1429 _VDP_SetSpriteColorSM1::
      0003DB 47               [ 4] 1430 	ld	b, a
      0003DC 4D               [ 4] 1431 	ld	c, l
                                   1432 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2115: u16 low = g_SpriteAttributeLow + 3;
      0003DD ED 5Br37r00      [20] 1433 	ld	de, (_g_SpriteAttributeLow)
      0003E1 13               [ 6] 1434 	inc	de
      0003E2 13               [ 6] 1435 	inc	de
      0003E3 13               [ 6] 1436 	inc	de
                                   1437 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2116: low += (index * 4);
      0003E4 68               [ 4] 1438 	ld	l, b
                                   1439 ;	spillPairReg hl
                                   1440 ;	spillPairReg hl
      0003E5 26 00            [ 7] 1441 	ld	h, #0x00
                                   1442 ;	spillPairReg hl
                                   1443 ;	spillPairReg hl
      0003E7 29               [11] 1444 	add	hl, hl
      0003E8 29               [11] 1445 	add	hl, hl
      0003E9 19               [11] 1446 	add	hl, de
      0003EA EB               [ 4] 1447 	ex	de, hl
                                   1448 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2117: VDP_Poke(color, low, g_SpriteAtributeHigh);
      0003EB 79               [ 4] 1449 	ld	a, c
                                   1450 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2118: }
      0003EC C3r34r01         [10] 1451 	jp	_VDP_Poke_16K
                                   1452 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2151: void VDP_DisableSpritesFrom(u8 index)
                                   1453 ;	---------------------------------
                                   1454 ; Function VDP_DisableSpritesFrom
                                   1455 ; ---------------------------------
      0003EF                       1456 _VDP_DisableSpritesFrom::
      0003EF 4F               [ 4] 1457 	ld	c, a
                                   1458 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2158: VDP_SetSpritePositionY(index, y);
      0003F0 2E D0            [ 7] 1459 	ld	l, #0xd0
                                   1460 ;	spillPairReg hl
                                   1461 ;	spillPairReg hl
      0003F2 79               [ 4] 1462 	ld	a, c
                                   1463 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2159: }
      0003F3 C3rB7r03         [10] 1464 	jp	_VDP_SetSpritePositionY
                                   1465 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2204: void VDP_LoadPattern_GM2(const u8* src, u8 count, u8 offset)
                                   1466 ;	---------------------------------
                                   1467 ; Function VDP_LoadPattern_GM2
                                   1468 ; ---------------------------------
      0003F6                       1469 _VDP_LoadPattern_GM2::
      0003F6 DD E5            [15] 1470 	push	ix
      0003F8 DD 21 00 00      [14] 1471 	ld	ix,#0
      0003FC DD 39            [15] 1472 	add	ix,sp
      0003FE 4D               [ 4] 1473 	ld	c, l
      0003FF 44               [ 4] 1474 	ld	b, h
                                   1475 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2206: u16 dst = g_ScreenPatternLow + (offset * 8);
      000400 DD 6E 05         [19] 1476 	ld	l, 5 (ix)
                                   1477 ;	spillPairReg hl
                                   1478 ;	spillPairReg hl
      000403 26 00            [ 7] 1479 	ld	h, #0x00
                                   1480 ;	spillPairReg hl
                                   1481 ;	spillPairReg hl
      000405 29               [11] 1482 	add	hl, hl
      000406 29               [11] 1483 	add	hl, hl
      000407 29               [11] 1484 	add	hl, hl
      000408 ED 5Br35r00      [20] 1485 	ld	de, (_g_ScreenPatternLow)
      00040C 19               [11] 1486 	add	hl, de
      00040D EB               [ 4] 1487 	ex	de, hl
                                   1488 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2207: VDP_WriteVRAM(src, dst, g_ScreenPatternHigh, count * 8);
      00040E DD 6E 04         [19] 1489 	ld	l, 4 (ix)
                                   1490 ;	spillPairReg hl
                                   1491 ;	spillPairReg hl
      000411 26 00            [ 7] 1492 	ld	h, #0x00
                                   1493 ;	spillPairReg hl
                                   1494 ;	spillPairReg hl
      000413 29               [11] 1495 	add	hl, hl
      000414 29               [11] 1496 	add	hl, hl
      000415 29               [11] 1497 	add	hl, hl
      000416 E5               [11] 1498 	push	hl
      000417 C5               [11] 1499 	push	bc
      000418 D5               [11] 1500 	push	de
      000419 E5               [11] 1501 	push	hl
      00041A D5               [11] 1502 	push	de
      00041B C5               [11] 1503 	push	bc
      00041C CDrA8r00         [17] 1504 	call	_VDP_WriteVRAM_16K
      00041F F1               [10] 1505 	pop	af
      000420 F1               [10] 1506 	pop	af
      000421 F1               [10] 1507 	pop	af
      000422 D1               [10] 1508 	pop	de
      000423 C1               [10] 1509 	pop	bc
      000424 E1               [10] 1510 	pop	hl
                                   1511 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2208: dst += 0x800;
      000425 7A               [ 4] 1512 	ld	a, d
      000426 C6 08            [ 7] 1513 	add	a, #0x08
      000428 57               [ 4] 1514 	ld	d, a
                                   1515 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2209: VDP_WriteVRAM(src, dst, g_ScreenPatternHigh, count * 8);
      000429 E5               [11] 1516 	push	hl
      00042A C5               [11] 1517 	push	bc
      00042B D5               [11] 1518 	push	de
      00042C E5               [11] 1519 	push	hl
      00042D D5               [11] 1520 	push	de
      00042E C5               [11] 1521 	push	bc
      00042F CDrA8r00         [17] 1522 	call	_VDP_WriteVRAM_16K
      000432 F1               [10] 1523 	pop	af
      000433 F1               [10] 1524 	pop	af
      000434 F1               [10] 1525 	pop	af
      000435 D1               [10] 1526 	pop	de
      000436 C1               [10] 1527 	pop	bc
      000437 E1               [10] 1528 	pop	hl
                                   1529 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2210: dst += 0x800;
      000438 7A               [ 4] 1530 	ld	a, d
      000439 C6 08            [ 7] 1531 	add	a, #0x08
                                   1532 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2211: VDP_WriteVRAM(src, dst, g_ScreenPatternHigh, count * 8);
      00043B E5               [11] 1533 	push	hl
      00043C 57               [ 4] 1534 	ld	d, a
      00043D D5               [11] 1535 	push	de
      00043E C5               [11] 1536 	push	bc
      00043F CDrA8r00         [17] 1537 	call	_VDP_WriteVRAM_16K
      000442 F1               [10] 1538 	pop	af
      000443 F1               [10] 1539 	pop	af
      000444 F1               [10] 1540 	pop	af
                                   1541 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2212: }
      000445 DD E1            [14] 1542 	pop	ix
      000447 E1               [10] 1543 	pop	hl
      000448 F1               [10] 1544 	pop	af
      000449 E9               [ 4] 1545 	jp	(hl)
                                   1546 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2216: void VDP_LoadColor_GM2(const u8* src, u8 count, u8 offset)
                                   1547 ;	---------------------------------
                                   1548 ; Function VDP_LoadColor_GM2
                                   1549 ; ---------------------------------
      00044A                       1550 _VDP_LoadColor_GM2::
      00044A DD E5            [15] 1551 	push	ix
      00044C DD 21 00 00      [14] 1552 	ld	ix,#0
      000450 DD 39            [15] 1553 	add	ix,sp
      000452 4D               [ 4] 1554 	ld	c, l
      000453 44               [ 4] 1555 	ld	b, h
                                   1556 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2218: u16 dst = g_ScreenColorLow + (offset * 8);
      000454 DD 6E 05         [19] 1557 	ld	l, 5 (ix)
                                   1558 ;	spillPairReg hl
                                   1559 ;	spillPairReg hl
      000457 26 00            [ 7] 1560 	ld	h, #0x00
                                   1561 ;	spillPairReg hl
                                   1562 ;	spillPairReg hl
      000459 29               [11] 1563 	add	hl, hl
      00045A 29               [11] 1564 	add	hl, hl
      00045B 29               [11] 1565 	add	hl, hl
      00045C ED 5Br33r00      [20] 1566 	ld	de, (_g_ScreenColorLow)
      000460 19               [11] 1567 	add	hl, de
      000461 EB               [ 4] 1568 	ex	de, hl
                                   1569 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2219: VDP_WriteVRAM(src, dst, g_ScreenColorHigh, count * 8);
      000462 DD 6E 04         [19] 1570 	ld	l, 4 (ix)
                                   1571 ;	spillPairReg hl
                                   1572 ;	spillPairReg hl
      000465 26 00            [ 7] 1573 	ld	h, #0x00
                                   1574 ;	spillPairReg hl
                                   1575 ;	spillPairReg hl
      000467 29               [11] 1576 	add	hl, hl
      000468 29               [11] 1577 	add	hl, hl
      000469 29               [11] 1578 	add	hl, hl
      00046A E5               [11] 1579 	push	hl
      00046B C5               [11] 1580 	push	bc
      00046C D5               [11] 1581 	push	de
      00046D E5               [11] 1582 	push	hl
      00046E D5               [11] 1583 	push	de
      00046F C5               [11] 1584 	push	bc
      000470 CDrA8r00         [17] 1585 	call	_VDP_WriteVRAM_16K
      000473 F1               [10] 1586 	pop	af
      000474 F1               [10] 1587 	pop	af
      000475 F1               [10] 1588 	pop	af
      000476 D1               [10] 1589 	pop	de
      000477 C1               [10] 1590 	pop	bc
      000478 E1               [10] 1591 	pop	hl
                                   1592 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2220: dst += 0x800;
      000479 7A               [ 4] 1593 	ld	a, d
      00047A C6 08            [ 7] 1594 	add	a, #0x08
      00047C 57               [ 4] 1595 	ld	d, a
                                   1596 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2221: VDP_WriteVRAM(src, dst, g_ScreenColorHigh, count * 8);
      00047D E5               [11] 1597 	push	hl
      00047E C5               [11] 1598 	push	bc
      00047F D5               [11] 1599 	push	de
      000480 E5               [11] 1600 	push	hl
      000481 D5               [11] 1601 	push	de
      000482 C5               [11] 1602 	push	bc
      000483 CDrA8r00         [17] 1603 	call	_VDP_WriteVRAM_16K
      000486 F1               [10] 1604 	pop	af
      000487 F1               [10] 1605 	pop	af
      000488 F1               [10] 1606 	pop	af
      000489 D1               [10] 1607 	pop	de
      00048A C1               [10] 1608 	pop	bc
      00048B E1               [10] 1609 	pop	hl
                                   1610 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2222: dst += 0x800;
      00048C 7A               [ 4] 1611 	ld	a, d
      00048D C6 08            [ 7] 1612 	add	a, #0x08
                                   1613 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2223: VDP_WriteVRAM(src, dst, g_ScreenColorHigh, count * 8);
      00048F E5               [11] 1614 	push	hl
      000490 57               [ 4] 1615 	ld	d, a
      000491 D5               [11] 1616 	push	de
      000492 C5               [11] 1617 	push	bc
      000493 CDrA8r00         [17] 1618 	call	_VDP_WriteVRAM_16K
      000496 F1               [10] 1619 	pop	af
      000497 F1               [10] 1620 	pop	af
      000498 F1               [10] 1621 	pop	af
                                   1622 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2224: }
      000499 DD E1            [14] 1623 	pop	ix
      00049B E1               [10] 1624 	pop	hl
      00049C F1               [10] 1625 	pop	af
      00049D E9               [ 4] 1626 	jp	(hl)
                                   1627 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2228: void VDP_WriteLayout_GM2(const u8* src, u8 dx, u8 dy, u8 nx, u8 ny)
                                   1628 ;	---------------------------------
                                   1629 ; Function VDP_WriteLayout_GM2
                                   1630 ; ---------------------------------
      00049E                       1631 _VDP_WriteLayout_GM2::
      00049E DD E5            [15] 1632 	push	ix
      0004A0 DD 21 00 00      [14] 1633 	ld	ix,#0
      0004A4 DD 39            [15] 1634 	add	ix,sp
      0004A6 3B               [ 6] 1635 	dec	sp
      0004A7 4D               [ 4] 1636 	ld	c, l
      0004A8 44               [ 4] 1637 	ld	b, h
                                   1638 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2230: u16 dst = g_ScreenLayoutLow + (dy * 32) + dx;
      0004A9 DD 6E 05         [19] 1639 	ld	l, 5 (ix)
                                   1640 ;	spillPairReg hl
                                   1641 ;	spillPairReg hl
      0004AC 26 00            [ 7] 1642 	ld	h, #0x00
                                   1643 ;	spillPairReg hl
                                   1644 ;	spillPairReg hl
      0004AE 29               [11] 1645 	add	hl, hl
      0004AF 29               [11] 1646 	add	hl, hl
      0004B0 29               [11] 1647 	add	hl, hl
      0004B1 29               [11] 1648 	add	hl, hl
      0004B2 29               [11] 1649 	add	hl, hl
      0004B3 ED 5Br31r00      [20] 1650 	ld	de, (_g_ScreenLayoutLow)
      0004B7 19               [11] 1651 	add	hl, de
      0004B8 DD 5E 04         [19] 1652 	ld	e, 4 (ix)
      0004BB 16 00            [ 7] 1653 	ld	d, #0x00
      0004BD 19               [11] 1654 	add	hl, de
                                   1655 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2231: for(u8 y = 0; y < ny; ++y)
      0004BE DD 36 FF 00      [19] 1656 	ld	-1 (ix), #0x00
      0004C2                       1657 00103$:
      0004C2 DD 7E FF         [19] 1658 	ld	a, -1 (ix)
      0004C5 DD 96 07         [19] 1659 	sub	a, 7 (ix)
      0004C8 30 23            [12] 1660 	jr	NC, 00105$
                                   1661 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2233: VDP_WriteVRAM(src, dst, g_ScreenLayoutHigh, nx);
      0004CA DD 5E 06         [19] 1662 	ld	e, 6 (ix)
      0004CD 16 00            [ 7] 1663 	ld	d, #0x00
      0004CF E5               [11] 1664 	push	hl
      0004D0 C5               [11] 1665 	push	bc
      0004D1 D5               [11] 1666 	push	de
      0004D2 E5               [11] 1667 	push	hl
      0004D3 C5               [11] 1668 	push	bc
      0004D4 CDrA8r00         [17] 1669 	call	_VDP_WriteVRAM_16K
      0004D7 F1               [10] 1670 	pop	af
      0004D8 F1               [10] 1671 	pop	af
      0004D9 F1               [10] 1672 	pop	af
      0004DA C1               [10] 1673 	pop	bc
      0004DB E1               [10] 1674 	pop	hl
                                   1675 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2234: src += nx;
      0004DC 79               [ 4] 1676 	ld	a, c
      0004DD DD 86 06         [19] 1677 	add	a, 6 (ix)
      0004E0 4F               [ 4] 1678 	ld	c, a
      0004E1 30 01            [12] 1679 	jr	NC, 00118$
      0004E3 04               [ 4] 1680 	inc	b
      0004E4                       1681 00118$:
                                   1682 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2235: dst += 32;
      0004E4 11 20 00         [10] 1683 	ld	de, #0x0020
      0004E7 19               [11] 1684 	add	hl, de
                                   1685 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2231: for(u8 y = 0; y < ny; ++y)
      0004E8 DD 34 FF         [23] 1686 	inc	-1 (ix)
      0004EB 18 D5            [12] 1687 	jr	00103$
      0004ED                       1688 00105$:
                                   1689 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2237: }
      0004ED 33               [ 6] 1690 	inc	sp
      0004EE DD E1            [14] 1691 	pop	ix
      0004F0 E1               [10] 1692 	pop	hl
      0004F1 F1               [10] 1693 	pop	af
      0004F2 F1               [10] 1694 	pop	af
      0004F3 E9               [ 4] 1695 	jp	(hl)
                                   1696 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2241: void VDP_FillLayout_GM2(u8 value, u8 dx, u8 dy, u8 nx, u8 ny)
                                   1697 ;	---------------------------------
                                   1698 ; Function VDP_FillLayout_GM2
                                   1699 ; ---------------------------------
      0004F4                       1700 _VDP_FillLayout_GM2::
      0004F4 DD E5            [15] 1701 	push	ix
      0004F6 DD 21 00 00      [14] 1702 	ld	ix,#0
      0004FA DD 39            [15] 1703 	add	ix,sp
      0004FC 4F               [ 4] 1704 	ld	c, a
      0004FD 45               [ 4] 1705 	ld	b, l
                                   1706 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2243: u16 dst = g_ScreenLayoutLow + (dy * 32) + dx;
      0004FE DD 6E 04         [19] 1707 	ld	l, 4 (ix)
                                   1708 ;	spillPairReg hl
                                   1709 ;	spillPairReg hl
      000501 26 00            [ 7] 1710 	ld	h, #0x00
                                   1711 ;	spillPairReg hl
                                   1712 ;	spillPairReg hl
      000503 29               [11] 1713 	add	hl, hl
      000504 29               [11] 1714 	add	hl, hl
      000505 29               [11] 1715 	add	hl, hl
      000506 29               [11] 1716 	add	hl, hl
      000507 29               [11] 1717 	add	hl, hl
      000508 ED 5Br31r00      [20] 1718 	ld	de, (_g_ScreenLayoutLow)
      00050C 19               [11] 1719 	add	hl, de
      00050D 58               [ 4] 1720 	ld	e, b
      00050E 16 00            [ 7] 1721 	ld	d, #0x00
      000510 19               [11] 1722 	add	hl, de
                                   1723 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2244: for(u8 y = 0; y < ny; ++y)
      000511 06 00            [ 7] 1724 	ld	b, #0x00
      000513                       1725 00103$:
      000513 78               [ 4] 1726 	ld	a, b
      000514 DD 96 06         [19] 1727 	sub	a, 6 (ix)
      000517 30 16            [12] 1728 	jr	NC, 00105$
                                   1729 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2246: VDP_FillVRAM(value, dst, g_ScreenLayoutHigh, nx);
      000519 DD 5E 05         [19] 1730 	ld	e, 5 (ix)
      00051C 16 00            [ 7] 1731 	ld	d, #0x00
      00051E E5               [11] 1732 	push	hl
      00051F C5               [11] 1733 	push	bc
      000520 EB               [ 4] 1734 	ex	de, hl
      000521 E5               [11] 1735 	push	hl
      000522 79               [ 4] 1736 	ld	a, c
      000523 CDrD9r00         [17] 1737 	call	_VDP_FillVRAM_16K
      000526 C1               [10] 1738 	pop	bc
      000527 E1               [10] 1739 	pop	hl
                                   1740 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2247: dst += 32;
      000528 11 20 00         [10] 1741 	ld	de, #0x0020
      00052B 19               [11] 1742 	add	hl, de
                                   1743 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2244: for(u8 y = 0; y < ny; ++y)
      00052C 04               [ 4] 1744 	inc	b
      00052D 18 E4            [12] 1745 	jr	00103$
      00052F                       1746 00105$:
                                   1747 ;C:\Users\socia\Documents\www\MO5\MSX\engine/src/vdp.c:2249: }
      00052F DD E1            [14] 1748 	pop	ix
      000531 E1               [10] 1749 	pop	hl
      000532 F1               [10] 1750 	pop	af
      000533 33               [ 6] 1751 	inc	sp
      000534 E9               [ 4] 1752 	jp	(hl)
                                   1753 	.area _CODE
                                   1754 	.area _INITIALIZER
      000000                       1755 __xinit__g_VDPInitilized:
      000000 00                    1756 	.db #0x00	; 0
                                   1757 	.area _CABS (ABS)
